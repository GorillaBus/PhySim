{"version":3,"sources":["node_modules/browser-pack/_prelude.js","projects/springs-1/app.js","src/feature-toggle.js","src/lib/AnimationPlayer.js","src/lib/Particle.js","src/lib/Utils.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Particle from '../../src/lib/Particle';\nimport AnimationPlayer from '../../src/lib/AnimationPlayer';\nimport Utils from '../../src/lib/Utils';\n\nwindow.onload = () => {\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const width = canvas.width = window.innerWidth-4;\n    const height = canvas.height = window.innerHeight-4;\n\n    let player = new AnimationPlayer();\n\n    let springPoint = {\n        x: width / 2,\n        y: height / 2\n    };\n    let springPoint2 = {\n        x: Utils.randomRange(0, width),\n        y: Utils.randomRange(0, height)\n    };\n    let weight = new Particle({\n        x: Math.random() * width,\n        y: Math.random() * height,\n        radius: 20,\n        friction: 0.9\n    });\n    let k = 0.1;\n    let springLength = 100;\n\n    weight.addSpring(springPoint, k, springLength);\n    weight.addSpring(springPoint2, k, springLength);\n\n    // Demo player\n    player.setUpdateFn(update);\n    player.play();\n\n    // Frame drawing function\n    function update() {\n        ctx.clearRect(0,0, width, height);\n\n        weight.update();\n\n        ctx.beginPath();\n        ctx.arc(weight.x, weight.y, weight.radius, 0, Math.PI * 2, false);\n        ctx.fill();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.arc(springPoint.x, springPoint.y, 10, 0, Math.PI * 2, false);\n        ctx.fill();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.arc(springPoint2.x, springPoint2.y, 10, 0, Math.PI * 2, false);\n        ctx.fill();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.moveTo(weight.x, weight.y);\n        ctx.lineTo(springPoint.x, springPoint.y);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.beginPath();\n        ctx.moveTo(weight.x, weight.y);\n        ctx.lineTo(springPoint2.x, springPoint2.y);\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n\n    // Animation control: MouseMove\n    document.body.addEventListener(\"mousemove\", (e) => {\n        springPoint.x = e.clientX;\n        springPoint.y = e.clientY;\n    });\n\n    // Animation control: KeyDown\n    document.body.addEventListener(\"keydown\", (e) => {\n        //console.log(\"Key pressed: \", e.keyCode);\n        switch (e.keyCode) {\n            case 27:                        // Esc\n                if (player.playing) {\n                    player.stop();\n                    console.log(\"> Scene stopped\");\n                } else {\n                    player.play();\n                    console.log(\"> Playing scene\");\n                }\n                break;\n            default:\n                break;\n        }\n    });\n};\n","/*\n *  Feature Toggling\n *\n *  Activete/Hide features that are in process of development or under testing\n *  Once a feature is accepted to be includded must be removed from the\n *  feature toggle scheme\n */\n\n const FEATURE_TOGGLE = {\n   FPS_CONTROL: true                // FPS controll for AnimationPlayer class\n };\n\n export default FEATURE_TOGGLE;\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class AnimationPlayer {\n\n  constructor(settings) {\n    settings = settings || {};\n\n    this.window = settings.windowElement || window;\n    this.requestId = null;\n    this.playing = false;\n\n    // FPS control\n    this.fps = settings.fps || 90;\n    this.now;\n    this.lastTime = Date.now();\n    this.interval = 1000/this.fps;\n    this.delta;\n\n    this.registerEvents();\n  }\n\n  registerEvents() {\n    // Animation control: KeyDown\n    document.body.addEventListener(\"keydown\", (e) => {\n      //console.log(\"Key pressed: \", e.keyCode);\n      switch (e.keyCode) {\n        case 27:                        // Esc\n        if (this.playing) {\n          this.stop();\n          console.log(\"> Scene stopped\");\n        } else {\n          this.play();\n          console.log(\"> Playing scene\");\n        }\n        break;\n\n        case 13:\n        this.stop();\n        this.play();\n        this.stop();\n        console.log(\"> Step forward\");\n        break;\n\n        default:\n        break;\n      }\n    });\n  }\n\n  play() {\n    this.playing = true;\n    this.updateFn();\n  }\n\n  stop() {\n    if (!this.playing) {\n      return false;\n    }\n    this.window.cancelAnimationFrame(this.requestId);\n    this.playing = false;\n    this.requestId = null;\n  }\n\n  setUpdateFn(updateFn) {\n    this.updateFn = (\n      () => {\n        this.requestId = this.window.requestAnimationFrame(this.updateFn);\n        this.now = Date.now();\n        this.delta = this.now - this.lastTime;\n\n        if (this.delta > this.interval) {\n          this.lastTime = this.now - (this.delta % this.interval);\n          updateFn(this.delta, this.lastTime);\n        }\n        return;\n\n\n        updateFn();\n\n      });\n    }\n\n    updateFn() {\n      console.warn(\"Player update function has not been set.\");\n    }\n  }\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class Particle {\n\n  /*\n   *   Pass 'boxBounce' as { w: <with>, h: <height> } to make particle bounce inside a box\n   *\n   **/\n    constructor(settings) {\n        this.x = settings.x || 0;\n        this.y = settings.y || 0;\n        this.vx = (Math.cos(settings.direction) * settings.speed) || 0;\n        this.vy = (Math.sin(settings.direction) * settings.speed) || 0;\n        this.gravity = settings.gravity || 0;\n        this.mass = settings.mass || 1;\n        this.radius = settings.radius || settings.mass * 0.87;\n        this.friction = settings.friction || 1;\n        this.springs = [];\n        this.gravitations = [];\n        this.positionUpdated = false;\n        this.color = settings.color || 'rgba(0,0,0,0.6)';\n        this.boxBounce = settings.boxBounce || false;\n    }\n\n    /*\n     *  Updates the state of the particle\n     */\n    update() {\n        let x = this.x;\n        let y = this.y;\n\n        this.handleSprings();\n        this.handleGravitations();\n        this.vy += this.gravity;\n        this.vx *= this.friction;\n        this.vy *= this.friction;\n        this.x += this.vx;\n        this.y += this.vy;\n\n        if (this.boxBounce) {\n          this.checkBorders(this.boxBounce.w, this.boxBounce.h);\n        }\n\n        if (x !== this.x && y !== this.y) {\n          this.positionUpdated = true;\n        } else {\n\n        }\n    }\n\n    /*\n     *  Gets the length of the velocity vector, which equals to the hypotenuse\n     */\n    getSpeed() {\n        return Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n    }\n\n    /*\n     *  Using the actual Velocity vector's angle, sets a new length for it\n     */\n    setSpeed(speed) {\n        let heading = this.getHeading();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Gets the angle direction of the velocity vector\n     */\n    getHeading() {\n        return Math.atan2(this.vy, this.vx);\n    }\n\n    /*\n     *  Changes the Velocity vector's angle and recalculate coordinates\n     */\n    setHeading(heading) {\n        let speed = this.getSpeed();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Sums to the Velocity vector x and y values\n     */\n    accelerate(x, y) {\n        this.vx += x;\n        this.vy += y;\n    }\n\n    /*\n    *  Bounce if the particle hits the box (i.e. screen) borders\n    */\n    checkBorders(width, height) {\n      if (this.x + this.radius >= width) {\n        this.x = width - this.radius;\n        this.vx *=  -1;\n      } else if (this.x - this.radius <= 0) {\n        this.x = this.radius;\n        this.vx *= -1;\n      }\n\n      if (this.y + this.radius >= height) {\n        this.y = height - this.radius;\n        this.vy *=  -1;\n      } else if (this.y - this.radius <= 0) {\n        this.y = this.radius;\n        this.vy *= -1;\n      }\n    }\n\n    /*\n     *  Calculates the angle between this particle and 'p2'\n     */\n    angleTo(p2) {\n        return Math.atan2(p2.y - this.y, p2.x - this.x);\n    }\n\n    /*\n     *  Calculates the distance to a given particle\n     */\n    distanceTo(p) {\n        let dx = p.x - this.x;\n        let dy = p.y - this.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    /*\n     *  Calculates and applies a gravitation vector to a given particle\n     */\n     gravitateTo(p, gravityFactor) {\n         gravityFactor = gravityFactor || 0.04;\n\n         let radiusSum = this.radius + p.radius;\n         let massFactor = this.mass * p.mass;\n\n         let dx = p.x - this.x;\n         let dy = p.y - this.y;\n         let distSQ = (dx * dx) + (dy * dy);\n         let dist = Math.sqrt(distSQ);\n         let surfaceDist = dist - radiusSum;\n\n         // Cancel gravitation once objects collide\n         // TODO: Verify if we can save the Math.sqrt() comparing squares\n         if (dist < radiusSum + 5) {\n           return;\n         }\n\n         //let force = (p.mass) / distSQ; // Force = mass / square of the distance\n         let force = gravityFactor * massFactor / (surfaceDist * surfaceDist);\n\n         let ax = (dx / surfaceDist) * force;\n         let ay = (dy / surfaceDist) * force;\n\n         this.vx += ax;\n         this.vy += ay;\n     }\n\n    /*\n     *  Registers a particle to gravitate to\n     */\n    addGravitation(p) {\n        this.removeGravitation(p);\n        this.gravitations.push(p);\n    }\n\n    /*\n     *  Unregisters a gravitation particle\n     */\n    removeGravitation(p) {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            if (this.gravitations[i] === p) {\n                this.gravitations.slice(i, 1);\n                return true;\n            }\n        }\n    }\n\n    /*\n     *  Gravitates to each registered gravitation particle\n     */\n    handleGravitations() {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            this.gravitateTo(this.gravitations[i]);\n        }\n    }\n\n    /*\n     *  Calculates and applies a spring vector to a given point\n     */\n    springTo(point, k, length) {\n        let dx = point.x - this.x;\n        let dy = point.y - this.y;\n        let distance = Math.sqrt(dx * dx + dy * dy);\n        let force = (distance - length || 0) * k;\n        // Instead of getting cos / sin of angle, divide sides by hypotenuse\n        this.vx += (dx / distance) * force;\n        this.vy += (dy / distance) * force;\n    }\n\n    /*\n     *  Registers a new spring point\n     */\n    addSpring(point, k, length) {\n        this.removeSpring(point);\n        this.springs.push({\n            point: point,\n            k: k,\n            length: length || 0\n        });\n    }\n\n    /*\n     *  Unregisters a spring point\n     */\n    removeSpring(point) {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            if (this.springs[i].point === point) {\n                this.springs.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n\n    /*\n     *  Springs to each registered spring point\n     */\n    handleSprings() {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            let spring = this.springs[i];\n            this.springTo(spring.point, spring.k, spring.length);\n        }\n    }\n}\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nclass Utils {\n\n  constructor() {\n    this.cache = {};\n  }\n\n  cacheStore(caller, key, value) {\n    if (!this.cache.hasOwnProperty(caller)) {\n      this.cache[caller] = {};\n    }\n    this.cache[caller][key] = value;\n  }\n\n  cacheRetrieve(caller, key) {\n    let fnCache = this.cache[caller] || [];\n    let value = fnCache[key] || false;\n    return value;\n  }\n\n  /*\n   *  Get 'n' points from a circular shaped 'Particle' object\n   */\n  getCirclePoints(p, n, radius) {\n    n = n || 8;\n    radius = radius || p.radius || 0;\n\n    let angle = -1;\n    let angleStep = (Math.PI * 2) / n;\n    let points = [];\n\n    for (let i=0; i<n; i++) {\n      let cData = this.cacheRetrieve(\"getCirclePoints\", angle);\n      let cos = cData.cos || Math.cos(angle);\n      let sin = cData.sin || Math.sin(angle);\n      let pt = {\n        x: p.x + (cos * p.radius),\n        y: p.y + (sin * p.radius)\n      };\n      points.push(pt);\n      if (!cData) {\n        this.cacheStore(\"getCirclePoints\", angle, {cos: cos, sin: sin});\n      }\n      angle += angleStep;\n    }\n\n    // Add the center point\n    return points;\n  }\n\n  montecarlo() {\n    while(true) {\n      let r1 = Math.random();\n      let p = r1;\n      let r2 = Math.random();\n      if (r2 < p) {\n        return r1;\n      }\n    }\n  }\n\n  lerp(norm, min, max) {\n    return (max - min) * norm + min;\n  }\n\n  quadraticBezier(p0, p1, p2, t, pFinal) {\n    pFinal = pFinal || {};\n    pFinal.x = Math.pow(1 - t, 2) * p0.x + (1 - t) * 2 * t * p1.x + t * t * p2.x;\n    pFinal.y = Math.pow(1 - t, 2) * p0.y + (1 - t) * 2 * t * p1.y + t * t * p2.y;\n    return pFinal;\n  }\n\n  cubicBezier(p0, p1, p2, p3, t, pFinal) {\n    pFinal = pFinal || {};\n    pFinal.x = Math.pow(1 - t, 3) * p0.x + Math.pow(1 - t, 2) * 3 * t * p1.x + (1 - t) * 3 * t * t * p2.x + t * t * t * p3.x;\n    pFinal.y = Math.pow(1 - t, 3) * p0.y + Math.pow(1 - t, 2) * 3 * t * p1.y + (1 - t) * 3 * t * t * p2.y + t * t * t * p3.y;\n    return pFinal;\n  }\n\n  distance(p0, p1) {\n    let dx = p0.x - p1.x;\n    let dy = p0.y - p1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  distanceXY(x0, y0, x1, y1) {\n    let dx = x1 - x0;\n    let dy = y1 - y0;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  // TODO: Check if and why we need to parseInt() the result\n  mapRange(value, low1, high1, low2, high2) {\n    return result = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    let result = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if (low2 === parseInt(low2, 10) || high2 === parseInt(high2, 10)) {\n      result = parseInt(result);\n    }\n    return result;\n  }\n\n  inRange(value, min, max) {\n    return value >= Math.min(min, max) && value <= Math.max(min, max);\n  }\n\n  rangeIntersect(min0, max0, min1, max1) {\n    return  Math.max(min0, max0) >= Math.min(min1, max1) &&\n    Math.min(min0, max0) <= Math.max(min1, max1);\n  }\n\n  randomRange(min, max) {\n    return min + Math.random() * (max - min);\n  }\n\n  constrain(e,t,r) {\n    return e>r?r:e<t?t:e;\n  }\n\n  circleCollision(c0, c1) {\n    return this.distance(c0, c1) <= c0.radius + c1.radius;\n  }\n\n  rectangleCollision(r0, r1) {\n    return  this.rangeIntersect(r0.x, r0.x + r0.width, r1.x, r1.x + r1.width) &&\n    this.rangeIntersect(r0.y, r0.y + r0.height, r1.y, r1.y + r1.height);\n  }\n\n  circlePointCollision(px, py, circle) {\n    return this.distanceXY(px, py, circle.x, circle.y) < circle.radius;\n  }\n\n  rectanglePointCollision(px, py, rect) {\n    return  this.inRange(px, rect.x, rect.x + rect.width) &&\n    this.inRange(py, rect.y, rect.y + rect.height);\n  }\n\n  uniqueID() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n      s4() + '-' + s4() + s4() + s4();\n  }\n\n  randomColor() {\n    return \"#000000\".replace(/0/g,function(){return (~~(Math.random()*16)).toString(16);});\n  }\n}\n\nlet instance = new Utils();\n\nexport default instance;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwcm9qZWN0cy9zcHJpbmdzLTEvYXBwLmpzIiwic3JjL2ZlYXR1cmUtdG9nZ2xlLmpzIiwic3JjL2xpYi9BbmltYXRpb25QbGF5ZXIuanMiLCJzcmMvbGliL1BhcnRpY2xlLmpzIiwic3JjL2xpYi9VdGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxPQUFPLE1BQVAsR0FBZ0IsWUFBTTtBQUNsQixRQUFNLFNBQVMsU0FBUyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDQSxRQUFNLE1BQU0sT0FBTyxVQUFQLENBQWtCLElBQWxCLENBQVo7QUFDQSxRQUFNLFFBQVEsT0FBTyxLQUFQLEdBQWUsT0FBTyxVQUFQLEdBQWtCLENBQS9DO0FBQ0EsUUFBTSxTQUFTLE9BQU8sTUFBUCxHQUFnQixPQUFPLFdBQVAsR0FBbUIsQ0FBbEQ7O0FBRUEsUUFBSSxTQUFTLCtCQUFiOztBQUVBLFFBQUksY0FBYztBQUNkLFdBQUcsUUFBUSxDQURHO0FBRWQsV0FBRyxTQUFTO0FBRkUsS0FBbEI7QUFJQSxRQUFJLGVBQWU7QUFDZixXQUFHLGdCQUFNLFdBQU4sQ0FBa0IsQ0FBbEIsRUFBcUIsS0FBckIsQ0FEWTtBQUVmLFdBQUcsZ0JBQU0sV0FBTixDQUFrQixDQUFsQixFQUFxQixNQUFyQjtBQUZZLEtBQW5CO0FBSUEsUUFBSSxTQUFTLHVCQUFhO0FBQ3RCLFdBQUcsS0FBSyxNQUFMLEtBQWdCLEtBREc7QUFFdEIsV0FBRyxLQUFLLE1BQUwsS0FBZ0IsTUFGRztBQUd0QixnQkFBUSxFQUhjO0FBSXRCLGtCQUFVO0FBSlksS0FBYixDQUFiO0FBTUEsUUFBSSxJQUFJLEdBQVI7QUFDQSxRQUFJLGVBQWUsR0FBbkI7O0FBRUEsV0FBTyxTQUFQLENBQWlCLFdBQWpCLEVBQThCLENBQTlCLEVBQWlDLFlBQWpDO0FBQ0EsV0FBTyxTQUFQ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LEtBQ1IsS0FBSyxPQUFMLENBQWEsRUFBYixFQUFpQixLQUFLLENBQXRCLEVBQXlCLEtBQUssQ0FBTCxHQUFTLEtBQUssTUFBdkMsQ0FEQTtBQUVEOzs7K0JBRVU7QUFDVCxlQUFTLEVBQVQsR0FBYztBQUNaLGVBQU8sS0FBSyxLQUFMLENBQVcsQ0FBQyxJQUFJLEtBQUssTUFBTCxFQUFMLElBQXNCLE9BQWpDLEVBQ0osUUFESSxDQUNLLEVBREwsRUFFSixTQUZJLENBRU0sQ0FGTixDQUFQO0FBR0Q7QUFDRCxhQUFPLE9BQU8sSUFBUCxHQUFjLEdBQWQsR0FBb0IsSUFBcEIsR0FBMkIsR0FBM0IsR0FBaUMsSUFBakMsR0FBd0MsR0FBeEMsR0FDTCxJQURLLEdBQ0UsR0FERixHQUNRLElBRFIsR0FDZSxJQURmLEdBQ3NCLElBRDdCO0FBRUQ7OztrQ0FFYTtBQUNaLGFBQU8sVUFBVSxPQUFWLENBQWtCLElBQWxCLEVBQXVCLFlBQVU7QUFBQyxlQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssTUFBTCxLQUFjLEVBQWhCLENBQUYsRUFBdUIsUUFBdkIsQ0FBZ0MsRUFBaEMsQ0FBUDtBQUE0QyxPQUE5RSxDQUFQO0FBQ0Q7Ozs7OztBQUdILElBQUksV0FBVyxJQUFJLEtBQUosRUFBZjs7a0JBRWUsUSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUGFydGljbGUgZnJvbSAnLi4vLi4vc3JjL2xpYi9QYXJ0aWNsZSc7XG5pbXBvcnQgQW5pbWF0aW9uUGxheWVyIGZyb20gJy4uLy4uL3NyYy9saWIvQW5pbWF0aW9uUGxheWVyJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi9zcmMvbGliL1V0aWxzJztcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGgtNDtcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LTQ7XG5cbiAgICBsZXQgcGxheWVyID0gbmV3IEFuaW1hdGlvblBsYXllcigpO1xuXG4gICAgbGV0IHNwcmluZ1BvaW50ID0ge1xuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDJcbiAgICB9O1xuICAgIGxldCBzcHJpbmdQb2ludDIgPSB7XG4gICAgICAgIHg6IFV0aWxzLnJhbmRvbVJhbmdlKDAsIHdpZHRoKSxcbiAgICAgICAgeTogVXRpbHMucmFuZG9tUmFuZ2UoMCwgaGVpZ2h0KVxuICAgIH07XG4gICAgbGV0IHdlaWdodCA9IG5ldyBQYXJ0aWNsZSh7XG4gICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiB3aWR0aCxcbiAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIGhlaWdodCxcbiAgICAgICAgcmFkaXVzOiAyMCxcbiAgICAgICAgZnJpY3Rpb246IDAuOVxuICAgIH0pO1xuICAgIGxldCBrID0gMC4xO1xuICAgIGxldCBzcHJpbmdMZW5ndGggPSAxMDA7XG5cbiAgICB3ZWlnaHQuYWRkU3ByaW5nKHNwcmluZ1BvaW50LCBrLCBzcHJpbmdMZW5ndGgpO1xuICAgIHdlaWdodC5hZGRTcHJpbmcoc3ByaW5nUG9pbnQyLCBrLCBzcHJpbmdMZW5ndGgpO1xuXG4gICAgLy8gRGVtbyBwbGF5ZXJcbiAgICBwbGF5ZXIuc2V0VXBkYXRlRm4odXBkYXRlKTtcbiAgICBwbGF5ZXIucGxheSgpO1xuXG4gICAgLy8gRnJhbWUgZHJhd2luZyBmdW5jdGlvblxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHdlaWdodC51cGRhdGUoKTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMod2VpZ2h0LngsIHdlaWdodC55LCB3ZWlnaHQucmFkaXVzLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHNwcmluZ1BvaW50LngsIHNwcmluZ1BvaW50LnksIDEwLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHNwcmluZ1BvaW50Mi54LCBzcHJpbmdQb2ludDIueSwgMTAsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8od2VpZ2h0LngsIHdlaWdodC55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhzcHJpbmdQb2ludC54LCBzcHJpbmdQb2ludC55KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHdlaWdodC54LCB3ZWlnaHQueSk7XG4gICAgICAgIGN0eC5saW5lVG8oc3ByaW5nUG9pbnQyLngsIHNwcmluZ1BvaW50Mi55KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfVxuXG5cbiAgICAvLyBBbmltYXRpb24gY29udHJvbDogTW91c2VNb3ZlXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgIHNwcmluZ1BvaW50LnggPSBlLmNsaWVudFg7XG4gICAgICAgIHNwcmluZ1BvaW50LnkgPSBlLmNsaWVudFk7XG4gICAgfSk7XG5cbiAgICAvLyBBbmltYXRpb24gY29udHJvbDogS2V5RG93blxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIktleSBwcmVzc2VkOiBcIiwgZS5rZXlDb2RlKTtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMjc6ICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXNjXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5wbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPiBTY2VuZSBzdG9wcGVkXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPiBQbGF5aW5nIHNjZW5lXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4iLCIvKlxuICogIEZlYXR1cmUgVG9nZ2xpbmdcbiAqXG4gKiAgQWN0aXZldGUvSGlkZSBmZWF0dXJlcyB0aGF0IGFyZSBpbiBwcm9jZXNzIG9mIGRldmVsb3BtZW50IG9yIHVuZGVyIHRlc3RpbmdcbiAqICBPbmNlIGEgZmVhdHVyZSBpcyBhY2NlcHRlZCB0byBiZSBpbmNsdWRkZWQgbXVzdCBiZSByZW1vdmVkIGZyb20gdGhlXG4gKiAgZmVhdHVyZSB0b2dnbGUgc2NoZW1lXG4gKi9cblxuIGNvbnN0IEZFQVRVUkVfVE9HR0xFID0ge1xuICAgRlBTX0NPTlRST0w6IHRydWUgICAgICAgICAgICAgICAgLy8gRlBTIGNvbnRyb2xsIGZvciBBbmltYXRpb25QbGF5ZXIgY2xhc3NcbiB9O1xuXG4gZXhwb3J0IGRlZmF1bHQgRkVBVFVSRV9UT0dHTEU7XG4iLCJpbXBvcnQgRkVBVFVSRV9UT0dHTEUgZnJvbSAnLi4vLi4vc3JjL2ZlYXR1cmUtdG9nZ2xlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0aW9uUGxheWVyIHtcblxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG5cbiAgICB0aGlzLndpbmRvdyA9IHNldHRpbmdzLndpbmRvd0VsZW1lbnQgfHwgd2luZG93O1xuICAgIHRoaXMucmVxdWVzdElkID0gbnVsbDtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcblxuICAgIC8vIEZQUyBjb250cm9sXG4gICAgdGhpcy5mcHMgPSBzZXR0aW5ncy5mcHMgfHwgOTA7XG4gICAgdGhpcy5ub3c7XG4gICAgdGhpcy5sYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5pbnRlcnZhbCA9IDEwMDAvdGhpcy5mcHM7XG4gICAgdGhpcy5kZWx0YTtcblxuICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgIC8vIEFuaW1hdGlvbiBjb250cm9sOiBLZXlEb3duXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgLy9jb25zb2xlLmxvZyhcIktleSBwcmVzc2VkOiBcIiwgZS5rZXlDb2RlKTtcbiAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMjc6ICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXNjXG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIj4gU2NlbmUgc3RvcHBlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIj4gUGxheWluZyBzY2VuZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDEzOlxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIj4gU3RlcCBmb3J3YXJkXCIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZUZuKCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5wbGF5aW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmVxdWVzdElkKTtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnJlcXVlc3RJZCA9IG51bGw7XG4gIH1cblxuICBzZXRVcGRhdGVGbih1cGRhdGVGbikge1xuICAgIHRoaXMudXBkYXRlRm4gPSAoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVxdWVzdElkID0gdGhpcy53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlRm4pO1xuICAgICAgICB0aGlzLm5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZGVsdGEgPSB0aGlzLm5vdyAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuZGVsdGEgPiB0aGlzLmludGVydmFsKSB7XG4gICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHRoaXMubm93IC0gKHRoaXMuZGVsdGEgJSB0aGlzLmludGVydmFsKTtcbiAgICAgICAgICB1cGRhdGVGbih0aGlzLmRlbHRhLCB0aGlzLmxhc3RUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG5cblxuICAgICAgICB1cGRhdGVGbigpO1xuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVGbigpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlBsYXllciB1cGRhdGUgZnVuY3Rpb24gaGFzIG5vdCBiZWVuIHNldC5cIik7XG4gICAgfVxuICB9XG4iLCJpbXBvcnQgRkVBVFVSRV9UT0dHTEUgZnJvbSAnLi4vLi4vc3JjL2ZlYXR1cmUtdG9nZ2xlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGUge1xuXG4gIC8qXG4gICAqICAgUGFzcyAnYm94Qm91bmNlJyBhcyB7IHc6IDx3aXRoPiwgaDogPGhlaWdodD4gfSB0byBtYWtlIHBhcnRpY2xlIGJvdW5jZSBpbnNpZGUgYSBib3hcbiAgICpcbiAgICoqL1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMueCA9IHNldHRpbmdzLnggfHwgMDtcbiAgICAgICAgdGhpcy55ID0gc2V0dGluZ3MueSB8fCAwO1xuICAgICAgICB0aGlzLnZ4ID0gKE1hdGguY29zKHNldHRpbmdzLmRpcmVjdGlvbikgKiBzZXR0aW5ncy5zcGVlZCkgfHwgMDtcbiAgICAgICAgdGhpcy52eSA9IChNYXRoLnNpbihzZXR0aW5ncy5kaXJlY3Rpb24pICogc2V0dGluZ3Muc3BlZWQpIHx8IDA7XG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IHNldHRpbmdzLmdyYXZpdHkgfHwgMDtcbiAgICAgICAgdGhpcy5tYXNzID0gc2V0dGluZ3MubWFzcyB8fCAxO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHNldHRpbmdzLnJhZGl1cyB8fCBzZXR0aW5ncy5tYXNzICogMC44NztcbiAgICAgICAgdGhpcy5mcmljdGlvbiA9IHNldHRpbmdzLmZyaWN0aW9uIHx8IDE7XG4gICAgICAgIHRoaXMuc3ByaW5ncyA9IFtdO1xuICAgICAgICB0aGlzLmdyYXZpdGF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnBvc2l0aW9uVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbG9yID0gc2V0dGluZ3MuY29sb3IgfHwgJ3JnYmEoMCwwLDAsMC42KSc7XG4gICAgICAgIHRoaXMuYm94Qm91bmNlID0gc2V0dGluZ3MuYm94Qm91bmNlIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIHRoZSBwYXJ0aWNsZVxuICAgICAqL1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLng7XG4gICAgICAgIGxldCB5ID0gdGhpcy55O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlU3ByaW5ncygpO1xuICAgICAgICB0aGlzLmhhbmRsZUdyYXZpdGF0aW9ucygpO1xuICAgICAgICB0aGlzLnZ5ICs9IHRoaXMuZ3Jhdml0eTtcbiAgICAgICAgdGhpcy52eCAqPSB0aGlzLmZyaWN0aW9uO1xuICAgICAgICB0aGlzLnZ5ICo9IHRoaXMuZnJpY3Rpb247XG4gICAgICAgIHRoaXMueCArPSB0aGlzLnZ4O1xuICAgICAgICB0aGlzLnkgKz0gdGhpcy52eTtcblxuICAgICAgICBpZiAodGhpcy5ib3hCb3VuY2UpIHtcbiAgICAgICAgICB0aGlzLmNoZWNrQm9yZGVycyh0aGlzLmJveEJvdW5jZS53LCB0aGlzLmJveEJvdW5jZS5oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh4ICE9PSB0aGlzLnggJiYgeSAhPT0gdGhpcy55KSB7XG4gICAgICAgICAgdGhpcy5wb3NpdGlvblVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBHZXRzIHRoZSBsZW5ndGggb2YgdGhlIHZlbG9jaXR5IHZlY3Rvciwgd2hpY2ggZXF1YWxzIHRvIHRoZSBoeXBvdGVudXNlXG4gICAgICovXG4gICAgZ2V0U3BlZWQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy52eCAqIHRoaXMudnggKyB0aGlzLnZ5ICogdGhpcy52eSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgVXNpbmcgdGhlIGFjdHVhbCBWZWxvY2l0eSB2ZWN0b3IncyBhbmdsZSwgc2V0cyBhIG5ldyBsZW5ndGggZm9yIGl0XG4gICAgICovXG4gICAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICAgICAgbGV0IGhlYWRpbmcgPSB0aGlzLmdldEhlYWRpbmcoKTtcbiAgICAgICAgdGhpcy52eCA9IE1hdGguY29zKGhlYWRpbmcpICogc3BlZWQ7XG4gICAgICAgIHRoaXMudnkgPSBNYXRoLnNpbihoZWFkaW5nKSAqIHNwZWVkO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIEdldHMgdGhlIGFuZ2xlIGRpcmVjdGlvbiBvZiB0aGUgdmVsb2NpdHkgdmVjdG9yXG4gICAgICovXG4gICAgZ2V0SGVhZGluZygpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy52eSwgdGhpcy52eCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgQ2hhbmdlcyB0aGUgVmVsb2NpdHkgdmVjdG9yJ3MgYW5nbGUgYW5kIHJlY2FsY3VsYXRlIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgc2V0SGVhZGluZyhoZWFkaW5nKSB7XG4gICAgICAgIGxldCBzcGVlZCA9IHRoaXMuZ2V0U3BlZWQoKTtcbiAgICAgICAgdGhpcy52eCA9IE1hdGguY29zKGhlYWRpbmcpICogc3BlZWQ7XG4gICAgICAgIHRoaXMudnkgPSBNYXRoLnNpbihoZWFkaW5nKSAqIHNwZWVkO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFN1bXMgdG8gdGhlIFZlbG9jaXR5IHZlY3RvciB4IGFuZCB5IHZhbHVlc1xuICAgICAqL1xuICAgIGFjY2VsZXJhdGUoeCwgeSkge1xuICAgICAgICB0aGlzLnZ4ICs9IHg7XG4gICAgICAgIHRoaXMudnkgKz0geTtcbiAgICB9XG5cbiAgICAvKlxuICAgICogIEJvdW5jZSBpZiB0aGUgcGFydGljbGUgaGl0cyB0aGUgYm94IChpLmUuIHNjcmVlbikgYm9yZGVyc1xuICAgICovXG4gICAgY2hlY2tCb3JkZXJzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIGlmICh0aGlzLnggKyB0aGlzLnJhZGl1cyA+PSB3aWR0aCkge1xuICAgICAgICB0aGlzLnggPSB3aWR0aCAtIHRoaXMucmFkaXVzO1xuICAgICAgICB0aGlzLnZ4ICo9ICAtMTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy54IC0gdGhpcy5yYWRpdXMgPD0gMCkge1xuICAgICAgICB0aGlzLnggPSB0aGlzLnJhZGl1cztcbiAgICAgICAgdGhpcy52eCAqPSAtMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMueSArIHRoaXMucmFkaXVzID49IGhlaWdodCkge1xuICAgICAgICB0aGlzLnkgPSBoZWlnaHQgLSB0aGlzLnJhZGl1cztcbiAgICAgICAgdGhpcy52eSAqPSAgLTE7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueSAtIHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgdGhpcy55ID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIHRoaXMudnkgKj0gLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgQ2FsY3VsYXRlcyB0aGUgYW5nbGUgYmV0d2VlbiB0aGlzIHBhcnRpY2xlIGFuZCAncDInXG4gICAgICovXG4gICAgYW5nbGVUbyhwMikge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihwMi55IC0gdGhpcy55LCBwMi54IC0gdGhpcy54KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSB0byBhIGdpdmVuIHBhcnRpY2xlXG4gICAgICovXG4gICAgZGlzdGFuY2VUbyhwKSB7XG4gICAgICAgIGxldCBkeCA9IHAueCAtIHRoaXMueDtcbiAgICAgICAgbGV0IGR5ID0gcC55IC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBDYWxjdWxhdGVzIGFuZCBhcHBsaWVzIGEgZ3Jhdml0YXRpb24gdmVjdG9yIHRvIGEgZ2l2ZW4gcGFydGljbGVcbiAgICAgKi9cbiAgICAgZ3Jhdml0YXRlVG8ocCwgZ3Jhdml0eUZhY3Rvcikge1xuICAgICAgICAgZ3Jhdml0eUZhY3RvciA9IGdyYXZpdHlGYWN0b3IgfHwgMC4wNDtcblxuICAgICAgICAgbGV0IHJhZGl1c1N1bSA9IHRoaXMucmFkaXVzICsgcC5yYWRpdXM7XG4gICAgICAgICBsZXQgbWFzc0ZhY3RvciA9IHRoaXMubWFzcyAqIHAubWFzcztcblxuICAgICAgICAgbGV0IGR4ID0gcC54IC0gdGhpcy54O1xuICAgICAgICAgbGV0IGR5ID0gcC55IC0gdGhpcy55O1xuICAgICAgICAgbGV0IGRpc3RTUSA9IChkeCAqIGR4KSArIChkeSAqIGR5KTtcbiAgICAgICAgIGxldCBkaXN0ID0gTWF0aC5zcXJ0KGRpc3RTUSk7XG4gICAgICAgICBsZXQgc3VyZmFjZURpc3QgPSBkaXN0IC0gcmFkaXVzU3VtO1xuXG4gICAgICAgICAvLyBDYW5jZWwgZ3Jhdml0YXRpb24gb25jZSBvYmplY3RzIGNvbGxpZGVcbiAgICAgICAgIC8vIFRPRE86IFZlcmlmeSBpZiB3ZSBjYW4gc2F2ZSB0aGUgTWF0aC5zcXJ0KCkgY29tcGFyaW5nIHNxdWFyZXNcbiAgICAgICAgIGlmIChkaXN0IDwgcmFkaXVzU3VtICsgNSkge1xuICAgICAgICAgICByZXR1cm47XG4gICAgICAgICB9XG5cbiAgICAgICAgIC8vbGV0IGZvcmNlID0gKHAubWFzcykgLyBkaXN0U1E7IC8vIEZvcmNlID0gbWFzcyAvIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2VcbiAgICAgICAgIGxldCBmb3JjZSA9IGdyYXZpdHlGYWN0b3IgKiBtYXNzRmFjdG9yIC8gKHN1cmZhY2VEaXN0ICogc3VyZmFjZURpc3QpO1xuXG4gICAgICAgICBsZXQgYXggPSAoZHggLyBzdXJmYWNlRGlzdCkgKiBmb3JjZTtcbiAgICAgICAgIGxldCBheSA9IChkeSAvIHN1cmZhY2VEaXN0KSAqIGZvcmNlO1xuXG4gICAgICAgICB0aGlzLnZ4ICs9IGF4O1xuICAgICAgICAgdGhpcy52eSArPSBheTtcbiAgICAgfVxuXG4gICAgLypcbiAgICAgKiAgUmVnaXN0ZXJzIGEgcGFydGljbGUgdG8gZ3Jhdml0YXRlIHRvXG4gICAgICovXG4gICAgYWRkR3Jhdml0YXRpb24ocCkge1xuICAgICAgICB0aGlzLnJlbW92ZUdyYXZpdGF0aW9uKHApO1xuICAgICAgICB0aGlzLmdyYXZpdGF0aW9ucy5wdXNoKHApO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFVucmVnaXN0ZXJzIGEgZ3Jhdml0YXRpb24gcGFydGljbGVcbiAgICAgKi9cbiAgICByZW1vdmVHcmF2aXRhdGlvbihwKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmdyYXZpdGF0aW9ucy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxsZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAodGhpcy5ncmF2aXRhdGlvbnNbaV0gPT09IHApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXZpdGF0aW9ucy5zbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogIEdyYXZpdGF0ZXMgdG8gZWFjaCByZWdpc3RlcmVkIGdyYXZpdGF0aW9uIHBhcnRpY2xlXG4gICAgICovXG4gICAgaGFuZGxlR3Jhdml0YXRpb25zKCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5ncmF2aXRhdGlvbnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgdGhpcy5ncmF2aXRhdGVUbyh0aGlzLmdyYXZpdGF0aW9uc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBDYWxjdWxhdGVzIGFuZCBhcHBsaWVzIGEgc3ByaW5nIHZlY3RvciB0byBhIGdpdmVuIHBvaW50XG4gICAgICovXG4gICAgc3ByaW5nVG8ocG9pbnQsIGssIGxlbmd0aCkge1xuICAgICAgICBsZXQgZHggPSBwb2ludC54IC0gdGhpcy54O1xuICAgICAgICBsZXQgZHkgPSBwb2ludC55IC0gdGhpcy55O1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICBsZXQgZm9yY2UgPSAoZGlzdGFuY2UgLSBsZW5ndGggfHwgMCkgKiBrO1xuICAgICAgICAvLyBJbnN0ZWFkIG9mIGdldHRpbmcgY29zIC8gc2luIG9mIGFuZ2xlLCBkaXZpZGUgc2lkZXMgYnkgaHlwb3RlbnVzZVxuICAgICAgICB0aGlzLnZ4ICs9IChkeCAvIGRpc3RhbmNlKSAqIGZvcmNlO1xuICAgICAgICB0aGlzLnZ5ICs9IChkeSAvIGRpc3RhbmNlKSAqIGZvcmNlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFJlZ2lzdGVycyBhIG5ldyBzcHJpbmcgcG9pbnRcbiAgICAgKi9cbiAgICBhZGRTcHJpbmcocG9pbnQsIGssIGxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlbW92ZVNwcmluZyhwb2ludCk7XG4gICAgICAgIHRoaXMuc3ByaW5ncy5wdXNoKHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGs6IGssXG4gICAgICAgICAgICBsZW5ndGg6IGxlbmd0aCB8fCAwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFVucmVnaXN0ZXJzIGEgc3ByaW5nIHBvaW50XG4gICAgICovXG4gICAgcmVtb3ZlU3ByaW5nKHBvaW50KSB7XG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLnNwcmluZ3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgaWYgKHRoaXMuc3ByaW5nc1tpXS5wb2ludCA9PT0gcG9pbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcmluZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLypcbiAgICAgKiAgU3ByaW5ncyB0byBlYWNoIHJlZ2lzdGVyZWQgc3ByaW5nIHBvaW50XG4gICAgICovXG4gICAgaGFuZGxlU3ByaW5ncygpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMuc3ByaW5ncy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxsZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBsZXQgc3ByaW5nID0gdGhpcy5zcHJpbmdzW2ldO1xuICAgICAgICAgICAgdGhpcy5zcHJpbmdUbyhzcHJpbmcucG9pbnQsIHNwcmluZy5rLCBzcHJpbmcubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBGRUFUVVJFX1RPR0dMRSBmcm9tICcuLi8uLi9zcmMvZmVhdHVyZS10b2dnbGUnO1xuXG5jbGFzcyBVdGlscyB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jYWNoZSA9IHt9O1xuICB9XG5cbiAgY2FjaGVTdG9yZShjYWxsZXIsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuY2FjaGUuaGFzT3duUHJvcGVydHkoY2FsbGVyKSkge1xuICAgICAgdGhpcy5jYWNoZVtjYWxsZXJdID0ge307XG4gICAgfVxuICAgIHRoaXMuY2FjaGVbY2FsbGVyXVtrZXldID0gdmFsdWU7XG4gIH1cblxuICBjYWNoZVJldHJpZXZlKGNhbGxlciwga2V5KSB7XG4gICAgbGV0IGZuQ2FjaGUgPSB0aGlzLmNhY2hlW2NhbGxlcl0gfHwgW107XG4gICAgbGV0IHZhbHVlID0gZm5DYWNoZVtrZXldIHx8IGZhbHNlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qXG4gICAqICBHZXQgJ24nIHBvaW50cyBmcm9tIGEgY2lyY3VsYXIgc2hhcGVkICdQYXJ0aWNsZScgb2JqZWN0XG4gICAqL1xuICBnZXRDaXJjbGVQb2ludHMocCwgbiwgcmFkaXVzKSB7XG4gICAgbiA9IG4gfHwgODtcbiAgICByYWRpdXMgPSByYWRpdXMgfHwgcC5yYWRpdXMgfHwgMDtcblxuICAgIGxldCBhbmdsZSA9IC0xO1xuICAgIGxldCBhbmdsZVN0ZXAgPSAoTWF0aC5QSSAqIDIpIC8gbjtcbiAgICBsZXQgcG9pbnRzID0gW107XG5cbiAgICBmb3IgKGxldCBpPTA7IGk8bjsgaSsrKSB7XG4gICAgICBsZXQgY0RhdGEgPSB0aGlzLmNhY2hlUmV0cmlldmUoXCJnZXRDaXJjbGVQb2ludHNcIiwgYW5nbGUpO1xuICAgICAgbGV0IGNvcyA9IGNEYXRhLmNvcyB8fCBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICBsZXQgc2luID0gY0RhdGEuc2luIHx8IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgIGxldCBwdCA9IHtcbiAgICAgICAgeDogcC54ICsgKGNvcyAqIHAucmFkaXVzKSxcbiAgICAgICAgeTogcC55ICsgKHNpbiAqIHAucmFkaXVzKVxuICAgICAgfTtcbiAgICAgIHBvaW50cy5wdXNoKHB0KTtcbiAgICAgIGlmICghY0RhdGEpIHtcbiAgICAgICAgdGhpcy5jYWNoZVN0b3JlKFwiZ2V0Q2lyY2xlUG9pbnRzXCIsIGFuZ2xlLCB7Y29zOiBjb3MsIHNpbjogc2lufSk7XG4gICAgICB9XG4gICAgICBhbmdsZSArPSBhbmdsZVN0ZXA7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBjZW50ZXIgcG9pbnRcbiAgICByZXR1cm4gcG9pbnRzO1xuICB9XG5cbiAgbW9udGVjYXJsbygpIHtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBsZXQgcjEgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgbGV0IHAgPSByMTtcbiAgICAgIGxldCByMiA9IE1hdGgucmFuZG9tKCk7XG4gICAgICBpZiAocjIgPCBwKSB7XG4gICAgICAgIHJldHVybiByMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXJwKG5vcm0sIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIChtYXggLSBtaW4pICogbm9ybSArIG1pbjtcbiAgfVxuXG4gIHF1YWRyYXRpY0JlemllcihwMCwgcDEsIHAyLCB0LCBwRmluYWwpIHtcbiAgICBwRmluYWwgPSBwRmluYWwgfHwge307XG4gICAgcEZpbmFsLnggPSBNYXRoLnBvdygxIC0gdCwgMikgKiBwMC54ICsgKDEgLSB0KSAqIDIgKiB0ICogcDEueCArIHQgKiB0ICogcDIueDtcbiAgICBwRmluYWwueSA9IE1hdGgucG93KDEgLSB0LCAyKSAqIHAwLnkgKyAoMSAtIHQpICogMiAqIHQgKiBwMS55ICsgdCAqIHQgKiBwMi55O1xuICAgIHJldHVybiBwRmluYWw7XG4gIH1cblxuICBjdWJpY0JlemllcihwMCwgcDEsIHAyLCBwMywgdCwgcEZpbmFsKSB7XG4gICAgcEZpbmFsID0gcEZpbmFsIHx8IHt9O1xuICAgIHBGaW5hbC54ID0gTWF0aC5wb3coMSAtIHQsIDMpICogcDAueCArIE1hdGgucG93KDEgLSB0LCAyKSAqIDMgKiB0ICogcDEueCArICgxIC0gdCkgKiAzICogdCAqIHQgKiBwMi54ICsgdCAqIHQgKiB0ICogcDMueDtcbiAgICBwRmluYWwueSA9IE1hdGgucG93KDEgLSB0LCAzKSAqIHAwLnkgKyBNYXRoLnBvdygxIC0gdCwgMikgKiAzICogdCAqIHAxLnkgKyAoMSAtIHQpICogMyAqIHQgKiB0ICogcDIueSArIHQgKiB0ICogdCAqIHAzLnk7XG4gICAgcmV0dXJuIHBGaW5hbDtcbiAgfVxuXG4gIGRpc3RhbmNlKHAwLCBwMSkge1xuICAgIGxldCBkeCA9IHAwLnggLSBwMS54O1xuICAgIGxldCBkeSA9IHAwLnkgLSBwMS55O1xuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICB9XG5cbiAgZGlzdGFuY2VYWSh4MCwgeTAsIHgxLCB5MSkge1xuICAgIGxldCBkeCA9IHgxIC0geDA7XG4gICAgbGV0IGR5ID0geTEgLSB5MDtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgfVxuXG4gIC8vIFRPRE86IENoZWNrIGlmIGFuZCB3aHkgd2UgbmVlZCB0byBwYXJzZUludCgpIHRoZSByZXN1bHRcbiAgbWFwUmFuZ2UodmFsdWUsIGxvdzEsIGhpZ2gxLCBsb3cyLCBoaWdoMikge1xuICAgIHJldHVybiByZXN1bHQgPSBsb3cyICsgKGhpZ2gyIC0gbG93MikgKiAodmFsdWUgLSBsb3cxKSAvIChoaWdoMSAtIGxvdzEpO1xuICAgIGxldCByZXN1bHQgPSBsb3cyICsgKGhpZ2gyIC0gbG93MikgKiAodmFsdWUgLSBsb3cxKSAvIChoaWdoMSAtIGxvdzEpO1xuICAgIGlmIChsb3cyID09PSBwYXJzZUludChsb3cyLCAxMCkgfHwgaGlnaDIgPT09IHBhcnNlSW50KGhpZ2gyLCAxMCkpIHtcbiAgICAgIHJlc3VsdCA9IHBhcnNlSW50KHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpblJhbmdlKHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHJldHVybiB2YWx1ZSA+PSBNYXRoLm1pbihtaW4sIG1heCkgJiYgdmFsdWUgPD0gTWF0aC5tYXgobWluLCBtYXgpO1xuICB9XG5cbiAgcmFuZ2VJbnRlcnNlY3QobWluMCwgbWF4MCwgbWluMSwgbWF4MSkge1xuICAgIHJldHVybiAgTWF0aC5tYXgobWluMCwgbWF4MCkgPj0gTWF0aC5taW4obWluMSwgbWF4MSkgJiZcbiAgICBNYXRoLm1pbihtaW4wLCBtYXgwKSA8PSBNYXRoLm1heChtaW4xLCBtYXgxKTtcbiAgfVxuXG4gIHJhbmRvbVJhbmdlKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcbiAgfVxuXG4gIGNvbnN0cmFpbihlLHQscikge1xuICAgIHJldHVybiBlPnI/cjplPHQ/dDplO1xuICB9XG5cbiAgY2lyY2xlQ29sbGlzaW9uKGMwLCBjMSkge1xuICAgIHJldHVybiB0aGlzLmRpc3RhbmNlKGMwLCBjMSkgPD0gYzAucmFkaXVzICsgYzEucmFkaXVzO1xuICB9XG5cbiAgcmVjdGFuZ2xlQ29sbGlzaW9uKHIwLCByMSkge1xuICAgIHJldHVybiAgdGhpcy5yYW5nZUludGVyc2VjdChyMC54LCByMC54ICsgcjAud2lkdGgsIHIxLngsIHIxLnggKyByMS53aWR0aCkgJiZcbiAgICB0aGlzLnJhbmdlSW50ZXJzZWN0KHIwLnksIHIwLnkgKyByMC5oZWlnaHQsIHIxLnksIHIxLnkgKyByMS5oZWlnaHQpO1xuICB9XG5cbiAgY2lyY2xlUG9pbnRDb2xsaXNpb24ocHgsIHB5LCBjaXJjbGUpIHtcbiAgICByZXR1cm4gdGhpcy5kaXN0YW5jZVhZKHB4LCBweSwgY2lyY2xlLngsIGNpcmNsZS55KSA8IGNpcmNsZS5yYWRpdXM7XG4gIH1cblxuICByZWN0YW5nbGVQb2ludENvbGxpc2lvbihweCwgcHksIHJlY3QpIHtcbiAgICByZXR1cm4gIHRoaXMuaW5SYW5nZShweCwgcmVjdC54LCByZWN0LnggKyByZWN0LndpZHRoKSAmJlxuICAgIHRoaXMuaW5SYW5nZShweSwgcmVjdC55LCByZWN0LnkgKyByZWN0LmhlaWdodCk7XG4gIH1cblxuICB1bmlxdWVJRCgpIHtcbiAgICBmdW5jdGlvbiBzNCgpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxuICAgICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAgIC5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICtcbiAgICAgIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XG4gIH1cblxuICByYW5kb21Db2xvcigpIHtcbiAgICByZXR1cm4gXCIjMDAwMDAwXCIucmVwbGFjZSgvMC9nLGZ1bmN0aW9uKCl7cmV0dXJuICh+fihNYXRoLnJhbmRvbSgpKjE2KSkudG9TdHJpbmcoMTYpO30pO1xuICB9XG59XG5cbmxldCBpbnN0YW5jZSA9IG5ldyBVdGlscygpO1xuXG5leHBvcnQgZGVmYXVsdCBpbnN0YW5jZTtcbiJdfQ=="}