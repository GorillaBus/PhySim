{"version":3,"sources":["node_modules/browser-pack/_prelude.js","projects/friction/app.js","src/feature-toggle.js","src/lib/AnimationPlayer.js","src/lib/Drawer.js","src/lib/Particle.js","src/lib/Vector.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Drawer from '../../src/lib/Drawer';\nimport Particle from '../../src/lib/Particle';\nimport AnimationPlayer from '../../src/lib/AnimationPlayer';\nimport Vector from '../../src/lib/Vector';\n\nwindow.onload = () => {\n  let drawer = new Drawer();\n  let player = new AnimationPlayer();\n\n  let particleCfg = {\n    x: drawer.width / 2,\n    y: drawer.height / 2,\n    speed: 10,\n    direction: Math.random() * Math.PI * 2,\n    radius: 10,\n    friction: 0.97\n  };\n  let p = new Particle(particleCfg);\n\n  // For a real friction, use this\n  let friction = new Vector({ x:0, y:0, length: 0.15 });\n\n  // Demo player\n  player.setUpdateFn(update);\n  player.play();\n\n  // Frame drawing function\n  function update() {\n    drawer.clear();\n\n    /*\n    // Real friction method (cpu intensive)\n    if (p.velocity.getLength() > friction.getLength()) {\n      friction.setAngle(p.velocity.getAngle());\n      p.velocity.substractFrom(friction);\n    } else {\n      p.velocity.setLength(0);\n    }\n    */\n    p.update();\n\n    drawer.circle(p.x, p.y, p.radius);\n  }\n\n// Animation control: KeyDown\ndocument.body.addEventListener(\"keydown\", (e) => {\n  //console.log(\"Key pressed: \", e.keyCode);\n  switch (e.keyCode) {\n    case 38:                        // Up\n    thrusting = true;\n    break;\n    case 37:                        // Left\n    turningLeft = true;\n    break;\n    case 39:                        // Right\n    turningRight = true;\n    break;\n    case 27:                        // Esc\n    if (player.playing) {\n      player.stop();\n      console.log(\"> Scene stopped\");\n    } else {\n      player.play();\n      console.log(\"> Playing scene\");\n    }\n    break;\n    default:\n    break;\n  }\n});\n\n};\n","/*\n *  Feature Toggling\n *\n *  Activete/Hide features that are in process of development or under testing\n *  Once a feature is accepted to be includded must be removed from the\n *  feature toggle scheme\n */\n\n const FEATURE_TOGGLE = {\n   FPS_CONTROL: true                // FPS controll for AnimationPlayer class\n };\n\n export default FEATURE_TOGGLE;\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class AnimationPlayer {\n\n  constructor(settings) {\n    settings = settings || {};\n\n    this.window = settings.windowElement || window;\n    this.requestId = null;\n    this.playing = false;\n\n    // FPS control\n    this.fps = settings.fps || 90;\n    this.now;\n    this.lastTime = Date.now();\n    this.interval = 1000/this.fps;\n    this.delta;\n\n    this.registerEvents();\n  }\n\n  registerEvents() {\n    // Animation control: KeyDown\n    document.body.addEventListener(\"keydown\", (e) => {\n      //console.log(\"Key pressed: \", e.keyCode);\n      switch (e.keyCode) {\n        case 27:                        // Esc\n        if (this.playing) {\n          this.stop();\n          console.log(\"> Scene stopped\");\n        } else {\n          this.play();\n          console.log(\"> Playing scene\");\n        }\n        break;\n\n        case 13:\n        this.stop();\n        this.play();\n        this.stop();\n        console.log(\"> Step forward\");\n        break;\n\n        default:\n        break;\n      }\n    });\n  }\n\n  play() {\n    this.playing = true;\n    this.updateFn();\n  }\n\n  stop() {\n    if (!this.playing) {\n      return false;\n    }\n    this.window.cancelAnimationFrame(this.requestId);\n    this.playing = false;\n    this.requestId = null;\n  }\n\n  setUpdateFn(updateFn) {\n    this.updateFn = (\n      () => {\n        this.requestId = this.window.requestAnimationFrame(this.updateFn);\n        this.now = Date.now();\n        this.delta = this.now - this.lastTime;\n\n        if (this.delta > this.interval) {\n          this.lastTime = this.now - (this.delta % this.interval);\n          updateFn(this.delta, this.lastTime);\n        }\n        return;\n\n\n        updateFn();\n\n      });\n    }\n\n    updateFn() {\n      console.warn(\"Player update function has not been set.\");\n    }\n  }\n","export default class Drawer {\n\n  constructor(canvas) {\n    this.canvas = canvas || null;\n    this.ctx = null;\n    this.width = null;\n    this.height = null;\n    this.center = { x: null, y: null };\n\n    this.setup(canvas);\n  }\n\n  setup(canvas) {\n    this.canvas = canvas ? canvas : document.createElement(\"canvas\");\n    this.canvas.setAttribute(\"id\", \"canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.width = this.canvas.width = window.innerWidth-4;\n    this.height = this.canvas.height = window.innerHeight-4;\n    this.center = { x: this.width/2, y: this.height/2 };\n\n    if (!canvas) {\n      this.insertCanvas(this.canvas);\n    }\n  }\n\n  insertCanvas(canvas) {\n    document.getElementsByTagName(\"BODY\")[0].appendChild(canvas);\n  }\n\n  clear(x, y, width, height) {\n    x = x || 0;\n    y = y || 0;\n    width = width || this.width;\n    height = height || this.height;\n\n    this.ctx.clearRect(x, y, width, height);\n  }\n\n  circle(x, y, radio) {\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, radio, 0, 2*Math.PI, false);\n    this.ctx.fill();\n    this.ctx.closePath();\n  }\n\n}\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class Particle {\n\n  /*\n   *   Pass 'boxBounce' as { w: <with>, h: <height> } to make particle bounce inside a box\n   *\n   **/\n    constructor(settings) {\n        this.x = settings.x || 0;\n        this.y = settings.y || 0;\n        this.vx = (Math.cos(settings.direction) * settings.speed) || 0;\n        this.vy = (Math.sin(settings.direction) * settings.speed) || 0;\n        this.gravity = settings.gravity || 0;\n        this.mass = settings.mass || 1;\n        this.radius = settings.radius || settings.mass * 0.87;\n        this.friction = settings.friction || 1;\n        this.springs = [];\n        this.gravitations = [];\n        this.positionUpdated = false;\n        this.color = settings.color || 'rgba(0,0,0,0.6)';\n        this.boxBounce = settings.boxBounce || false;\n    }\n\n    /*\n     *  Updates the state of the particle\n     */\n    update() {\n        let x = this.x;\n        let y = this.y;\n\n        this.handleSprings();\n        this.handleGravitations();\n        this.vy += this.gravity;\n        this.vx *= this.friction;\n        this.vy *= this.friction;\n        this.x += this.vx;\n        this.y += this.vy;\n\n        if (this.boxBounce) {\n          this.checkBorders(this.boxBounce.w, this.boxBounce.h);\n        }\n\n        if (x !== this.x && y !== this.y) {\n          this.positionUpdated = true;\n        } else {\n\n        }\n    }\n\n    /*\n     *  Gets the length of the velocity vector, which equals to the hypotenuse\n     */\n    getSpeed() {\n        return Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n    }\n\n    /*\n     *  Using the actual Velocity vector's angle, sets a new length for it\n     */\n    setSpeed(speed) {\n        let heading = this.getHeading();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Gets the angle direction of the velocity vector\n     */\n    getHeading() {\n        return Math.atan2(this.vy, this.vx);\n    }\n\n    /*\n     *  Changes the Velocity vector's angle and recalculate coordinates\n     */\n    setHeading(heading) {\n        let speed = this.getSpeed();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Sums to the Velocity vector x and y values\n     */\n    accelerate(x, y) {\n        this.vx += x;\n        this.vy += y;\n    }\n\n    /*\n    *  Bounce if the particle hits the box (i.e. screen) borders\n    */\n    checkBorders(width, height) {\n      if (this.x + this.radius >= width) {\n        this.x = width - this.radius;\n        this.vx *=  -1;\n      } else if (this.x - this.radius <= 0) {\n        this.x = this.radius;\n        this.vx *= -1;\n      }\n\n      if (this.y + this.radius >= height) {\n        this.y = height - this.radius;\n        this.vy *=  -1;\n      } else if (this.y - this.radius <= 0) {\n        this.y = this.radius;\n        this.vy *= -1;\n      }\n    }\n\n    /*\n     *  Calculates the angle between this particle and 'p2'\n     */\n    angleTo(p2) {\n        return Math.atan2(p2.y - this.y, p2.x - this.x);\n    }\n\n    /*\n     *  Calculates the distance to a given particle\n     */\n    distanceTo(p) {\n        let dx = p.x - this.x;\n        let dy = p.y - this.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    /*\n     *  Calculates and applies a gravitation vector to a given particle\n     */\n     gravitateTo(p, gravityFactor) {\n         gravityFactor = gravityFactor || 0.04;\n\n         let radiusSum = this.radius + p.radius;\n         let massFactor = this.mass * p.mass;\n\n         let dx = p.x - this.x;\n         let dy = p.y - this.y;\n         let distSQ = (dx * dx) + (dy * dy);\n         let dist = Math.sqrt(distSQ);\n         let surfaceDist = dist - radiusSum;\n\n         // Cancel gravitation once objects collide\n         // TODO: Verify if we can save the Math.sqrt() comparing squares\n         if (dist < radiusSum + 5) {\n           return;\n         }\n\n         //let force = (p.mass) / distSQ; // Force = mass / square of the distance\n         let force = gravityFactor * massFactor / (surfaceDist * surfaceDist);\n\n         let ax = (dx / surfaceDist) * force;\n         let ay = (dy / surfaceDist) * force;\n\n         this.vx += ax;\n         this.vy += ay;\n     }\n\n    /*\n     *  Registers a particle to gravitate to\n     */\n    addGravitation(p) {\n        this.removeGravitation(p);\n        this.gravitations.push(p);\n    }\n\n    /*\n     *  Unregisters a gravitation particle\n     */\n    removeGravitation(p) {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            if (this.gravitations[i] === p) {\n                this.gravitations.slice(i, 1);\n                return true;\n            }\n        }\n    }\n\n    /*\n     *  Gravitates to each registered gravitation particle\n     */\n    handleGravitations() {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            this.gravitateTo(this.gravitations[i]);\n        }\n    }\n\n    /*\n     *  Calculates and applies a spring vector to a given point\n     */\n    springTo(point, k, length) {\n        let dx = point.x - this.x;\n        let dy = point.y - this.y;\n        let distance = Math.sqrt(dx * dx + dy * dy);\n        let force = (distance - length || 0) * k;\n        // Instead of getting cos / sin of angle, divide sides by hypotenuse\n        this.vx += (dx / distance) * force;\n        this.vy += (dy / distance) * force;\n    }\n\n    /*\n     *  Registers a new spring point\n     */\n    addSpring(point, k, length) {\n        this.removeSpring(point);\n        this.springs.push({\n            point: point,\n            k: k,\n            length: length || 0\n        });\n    }\n\n    /*\n     *  Unregisters a spring point\n     */\n    removeSpring(point) {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            if (this.springs[i].point === point) {\n                this.springs.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n\n    /*\n     *  Springs to each registered spring point\n     */\n    handleSprings() {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            let spring = this.springs[i];\n            this.springTo(spring.point, spring.k, spring.length);\n        }\n    }\n}\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class Vector {\n\n  constructor(settings) {\n    settings = settings || {};\n    settings.x = settings.x || 0;\n    settings.y = settings.y || 0;\n    settings.length = settings.length || 0;\n    settings.angle = settings.angle || 0;\n\n    this._x = settings.x;\n    this._y = settings.y;\n\n    if (settings.length) {\n      this.setLength(settings.length);\n    }\n    if (settings.angle) {\n      this.setAngle(settings.angle);\n    }\n  }\n\n  setX(value) {\n    this._x = value;\n  }\n\n  getX(value) {\n    return this._x;\n  }\n\n  setY(value) {\n    this._y = value;\n  }\n\n  getY(value) {\n    return this._y;\n  }\n\n  setAngle(angle) {\n    let length = this.getLength();\n    this._x = Math.cos(angle) * length;\n    this._y = Math.sin(angle) * length;\n  }\n\n  getAngle() {\n    return Math.atan2(this._y, this._x);\n  }\n\n  setLength(length) {\n    let angle = this.getAngle();\n    this._x = Math.cos(angle) * length;\n    this._y = Math.sin(angle) * length;\n  }\n\n  getLength() {\n    return Math.sqrt(this._x * this._x + this._y * this._y);\n  }\n\n  add(vector) {\n    return new Vector({ x: this._x + vector.getX(), y: this._y + vector.getY() });\n  }\n\n  substract(vector) {\n    return new Vector({ x: this._x - vector.getX(), y: this._y - vector.getY() });\n  }\n\n  multiply(value) {\n    return new Vector({ x: this._x * value, y: this._y * value });\n  }\n\n  divide(value) {\n    return new Vector({ x: this._x / value, y: this._y / value });\n  }\n\n  addTo(vector) {\n    this._x += vector.getX();\n    this._y += vector.getY();\n  }\n\n  substractFrom(vector) {\n    this._x -= vector.getX();\n    this._y -= vector.getY();\n  }\n\n  multiplyBy(value) {\n    this._x *= value;\n    this._y *= value;\n  }\n\n  divideBy(value) {\n    this._x /= value;\n    this._y /= value;\n  }\n\n  copy() {\n    return new Vector({\n      x: this.getX(),\n      y: this.getY()\n    });\n  }\n\n  normalize() {\n    var length = this.getLength();\n    if (length != 0) {\n      this.divideBy(length);\n    }\n  }\n\n  limit(n) {\n    if (this.getLength() > n) {\n      this.setLength(n);\n    }\n  }\n};\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwcm9qZWN0cy9mcmljdGlvbi9hcHAuanMiLCJzcmMvZmVhdHVyZS10b2dnbGUuanMiLCJzcmMvbGliL0FuaW1hdGlvblBsYXllci5qcyIsInNyYy9saWIvRHJhd2VyLmpzIiwic3JjL2xpYi9QYXJ0aWNsZS5qcyIsInNyYy9saWIvVmVjdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsT0FBTyxNQUFQLEdBQWdCLFlBQU07QUFDcEIsTUFBSSxTQUFTLHNCQUFiO0FBQ0EsTUFBSSxTQUFTLCtCQUFiOztBQUVBLE1BQUksY0FBYztBQUNoQixPQUFHLE9BQU8sS0FBUCxHQUFlLENBREY7QUFFaEIsT0FBRyxPQUFPLE1BQVAsR0FBZ0IsQ0FGSDtBQUdoQixXQUFPLEVBSFM7QUFJaEIsZUFBVyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxFQUFyQixHQUEwQixDQUpyQjtBQUtoQixZQUFRLEVBTFE7QUFNaEIsY0FBVTtBQU5NLEdBQWxCO0FBUUEsTUFBSSxJQUFJLHVCQUFhLFdBQWIsQ0FBUjs7QUFFQTtBQUNBLE1BQUksV0FBVyxxQkFBVyxFQUFFLEdBQUUsQ0FBSixFQUFPLEdBQUUsQ0FBVCxFQUFZLFFBQVEsSUFBcEIsRUFBWCxDQUFmOztBQUVBO0FBQ0EsU0FBTyxXQUFQLENBQW1CLE1BQW5CO0FBQ0EsU0FBTyxJQUFQOztBQUVBO0FBQ0EsV0FBUyxNQUFULEdBQWtCO0FBQ2hCLFdBQU8sS0FBUDs7QUFFQTs7Ozs7Ozs7O0FBU0EsTUFBRSxNQUFGOztBQUVBLFdBQU8sTUFBUCxDQUFjLEVBQUUsQ0FBaEIsRUFBbUIsRUFBRSxDQUFyQixFQUF3QixFQUFFLE1BQTFCO0FBQ0Q7O0FBRUg7QUFDQSxXQUFTLElBQVQsQ0FBYyxnQkFBZCxDQUErQixTQUEvQixFQUEwQyxVQUFDLENBQUQsRUFBTztBQUMvQztB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QUFJLEtBQUssU0FBTCxLQUFtQixDQUF2QixFQUEwQjtBQUN4QixhQUFLLFNBQUwsQ0FBZSxDQUFmO0FBQ0Q7QUFDRjs7Ozs7O2tCQTlHa0IsTTtBQStHcEIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IERyYXdlciBmcm9tICcuLi8uLi9zcmMvbGliL0RyYXdlcic7XG5pbXBvcnQgUGFydGljbGUgZnJvbSAnLi4vLi4vc3JjL2xpYi9QYXJ0aWNsZSc7XG5pbXBvcnQgQW5pbWF0aW9uUGxheWVyIGZyb20gJy4uLy4uL3NyYy9saWIvQW5pbWF0aW9uUGxheWVyJztcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi4vLi4vc3JjL2xpYi9WZWN0b3InO1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBsZXQgZHJhd2VyID0gbmV3IERyYXdlcigpO1xuICBsZXQgcGxheWVyID0gbmV3IEFuaW1hdGlvblBsYXllcigpO1xuXG4gIGxldCBwYXJ0aWNsZUNmZyA9IHtcbiAgICB4OiBkcmF3ZXIud2lkdGggLyAyLFxuICAgIHk6IGRyYXdlci5oZWlnaHQgLyAyLFxuICAgIHNwZWVkOiAxMCxcbiAgICBkaXJlY3Rpb246IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMixcbiAgICByYWRpdXM6IDEwLFxuICAgIGZyaWN0aW9uOiAwLjk3XG4gIH07XG4gIGxldCBwID0gbmV3IFBhcnRpY2xlKHBhcnRpY2xlQ2ZnKTtcblxuICAvLyBGb3IgYSByZWFsIGZyaWN0aW9uLCB1c2UgdGhpc1xuICBsZXQgZnJpY3Rpb24gPSBuZXcgVmVjdG9yKHsgeDowLCB5OjAsIGxlbmd0aDogMC4xNSB9KTtcblxuICAvLyBEZW1vIHBsYXllclxuICBwbGF5ZXIuc2V0VXBkYXRlRm4odXBkYXRlKTtcbiAgcGxheWVyLnBsYXkoKTtcblxuICAvLyBGcmFtZSBkcmF3aW5nIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBkcmF3ZXIuY2xlYXIoKTtcblxuICAgIC8qXG4gICAgLy8gUmVhbCBmcmljdGlvbiBtZXRob2QgKGNwdSBpbnRlbnNpdmUpXG4gICAgaWYgKHAudmVsb2NpdHkuZ2V0TGVuZ3RoKCkgPiBmcmljdGlvbi5nZXRMZW5ndGgoKSkge1xuICAgICAgZnJpY3Rpb24uc2V0QW5nbGUocC52ZWxvY2l0eS5nZXRBbmdsZSgpKTtcbiAgICAgIHAudmVsb2NpdHkuc3Vic3RyYWN0RnJvbShmcmljdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAudmVsb2NpdHkuc2V0TGVuZ3RoKDApO1xuICAgIH1cbiAgICAqL1xuICAgIHAudXBkYXRlKCk7XG5cbiAgICBkcmF3ZXIuY2lyY2xlKHAueCwgcC55LCBwLnJhZGl1cyk7XG4gIH1cblxuLy8gQW5pbWF0aW9uIGNvbnRyb2w6IEtleURvd25cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgLy9jb25zb2xlLmxvZyhcIktleSBwcmVzc2VkOiBcIiwgZS5rZXlDb2RlKTtcbiAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICBjYXNlIDM4OiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwXG4gICAgdGhydXN0aW5nID0gdHJ1ZTtcbiAgICBicmVhaztcbiAgICBjYXNlIDM3OiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnRcbiAgICB0dXJuaW5nTGVmdCA9IHRydWU7XG4gICAgYnJlYWs7XG4gICAgY2FzZSAzOTogICAgICAgICAgICAgICAgICAgICAgICAvLyBSaWdodFxuICAgIHR1cm5pbmdSaWdodCA9IHRydWU7XG4gICAgYnJlYWs7XG4gICAgY2FzZSAyNzogICAgICAgICAgICAgICAgICAgICAgICAvLyBFc2NcbiAgICBpZiAocGxheWVyLnBsYXlpbmcpIHtcbiAgICAgIHBsYXllci5zdG9wKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIj4gU2NlbmUgc3RvcHBlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheWVyLnBsYXkoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiPiBQbGF5aW5nIHNjZW5lXCIpO1xuICAgIH1cbiAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgIGJyZWFrO1xuICB9XG59KTtcblxufTtcbiIsIi8qXG4gKiAgRmVhdHVyZSBUb2dnbGluZ1xuICpcbiAqICBBY3RpdmV0ZS9IaWRlIGZlYXR1cmVzIHRoYXQgYXJlIGluIHByb2Nlc3Mgb2YgZGV2ZWxvcG1lbnQgb3IgdW5kZXIgdGVzdGluZ1xuICogIE9uY2UgYSBmZWF0dXJlIGlzIGFjY2VwdGVkIHRvIGJlIGluY2x1ZGRlZCBtdXN0IGJlIHJlbW92ZWQgZnJvbSB0aGVcbiAqICBmZWF0dXJlIHRvZ2dsZSBzY2hlbWVcbiAqL1xuXG4gY29uc3QgRkVBVFVSRV9UT0dHTEUgPSB7XG4gICBGUFNfQ09OVFJPTDogdHJ1ZSAgICAgICAgICAgICAgICAvLyBGUFMgY29udHJvbGwgZm9yIEFuaW1hdGlvblBsYXllciBjbGFzc1xuIH07XG5cbiBleHBvcnQgZGVmYXVsdCBGRUFUVVJFX1RPR0dMRTtcbiIsImltcG9ydCBGRUFUVVJFX1RPR0dMRSBmcm9tICcuLi8uLi9zcmMvZmVhdHVyZS10b2dnbGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb25QbGF5ZXIge1xuXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcblxuICAgIHRoaXMud2luZG93ID0gc2V0dGluZ3Mud2luZG93RWxlbWVudCB8fCB3aW5kb3c7XG4gICAgdGhpcy5yZXF1ZXN0SWQgPSBudWxsO1xuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuXG4gICAgLy8gRlBTIGNvbnRyb2xcbiAgICB0aGlzLmZwcyA9IHNldHRpbmdzLmZwcyB8fCA5MDtcbiAgICB0aGlzLm5vdztcbiAgICB0aGlzLmxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmludGVydmFsID0gMTAwMC90aGlzLmZwcztcbiAgICB0aGlzLmRlbHRhO1xuXG4gICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICB9XG5cbiAgcmVnaXN0ZXJFdmVudHMoKSB7XG4gICAgLy8gQW5pbWF0aW9uIGNvbnRyb2w6IEtleURvd25cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiS2V5IHByZXNzZWQ6IFwiLCBlLmtleUNvZGUpO1xuICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAyNzogICAgICAgICAgICAgICAgICAgICAgICAvLyBFc2NcbiAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiPiBTY2VuZSBzdG9wcGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiPiBQbGF5aW5nIHNjZW5lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPiBTdGVwIGZvcndhcmRcIik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcGxheSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlRm4oKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yZXF1ZXN0SWQpO1xuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVxdWVzdElkID0gbnVsbDtcbiAgfVxuXG4gIHNldFVwZGF0ZUZuKHVwZGF0ZUZuKSB7XG4gICAgdGhpcy51cGRhdGVGbiA9IChcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SWQgPSB0aGlzLndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVGbik7XG4gICAgICAgIHRoaXMubm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IHRoaXMubm93IC0gdGhpcy5sYXN0VGltZTtcblxuICAgICAgICBpZiAodGhpcy5kZWx0YSA+IHRoaXMuaW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gdGhpcy5ub3cgLSAodGhpcy5kZWx0YSAlIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgIHVwZGF0ZUZuKHRoaXMuZGVsdGEsIHRoaXMubGFzdFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcblxuXG4gICAgICAgIHVwZGF0ZUZuKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUZuKCkge1xuICAgICAgY29uc29sZS53YXJuKFwiUGxheWVyIHVwZGF0ZSBmdW5jdGlvbiBoYXMgbm90IGJlZW4gc2V0LlwiKTtcbiAgICB9XG4gIH1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdlciB7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXMgfHwgbnVsbDtcbiAgICB0aGlzLmN0eCA9IG51bGw7XG4gICAgdGhpcy53aWR0aCA9IG51bGw7XG4gICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgIHRoaXMuY2VudGVyID0geyB4OiBudWxsLCB5OiBudWxsIH07XG5cbiAgICB0aGlzLnNldHVwKGNhbnZhcyk7XG4gIH1cblxuICBzZXR1cChjYW52YXMpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcyA/IGNhbnZhcyA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjYW52YXNcIik7XG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGgtNDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC00O1xuICAgIHRoaXMuY2VudGVyID0geyB4OiB0aGlzLndpZHRoLzIsIHk6IHRoaXMuaGVpZ2h0LzIgfTtcblxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICB0aGlzLmluc2VydENhbnZhcyh0aGlzLmNhbnZhcyk7XG4gICAgfVxuICB9XG5cbiAgaW5zZXJ0Q2FudmFzKGNhbnZhcykge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiQk9EWVwiKVswXS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICB9XG5cbiAgY2xlYXIoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHggPSB4IHx8IDA7XG4gICAgeSA9IHkgfHwgMDtcbiAgICB3aWR0aCA9IHdpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0O1xuXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgY2lyY2xlKHgsIHksIHJhZGlvKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5jdHguYXJjKHgsIHksIHJhZGlvLCAwLCAyKk1hdGguUEksIGZhbHNlKTtcbiAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG4gIH1cblxufVxuIiwiaW1wb3J0IEZFQVRVUkVfVE9HR0xFIGZyb20gJy4uLy4uL3NyYy9mZWF0dXJlLXRvZ2dsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlIHtcblxuICAvKlxuICAgKiAgIFBhc3MgJ2JveEJvdW5jZScgYXMgeyB3OiA8d2l0aD4sIGg6IDxoZWlnaHQ+IH0gdG8gbWFrZSBwYXJ0aWNsZSBib3VuY2UgaW5zaWRlIGEgYm94XG4gICAqXG4gICAqKi9cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICB0aGlzLnggPSBzZXR0aW5ncy54IHx8IDA7XG4gICAgICAgIHRoaXMueSA9IHNldHRpbmdzLnkgfHwgMDtcbiAgICAgICAgdGhpcy52eCA9IChNYXRoLmNvcyhzZXR0aW5ncy5kaXJlY3Rpb24pICogc2V0dGluZ3Muc3BlZWQpIHx8IDA7XG4gICAgICAgIHRoaXMudnkgPSAoTWF0aC5zaW4oc2V0dGluZ3MuZGlyZWN0aW9uKSAqIHNldHRpbmdzLnNwZWVkKSB8fCAwO1xuICAgICAgICB0aGlzLmdyYXZpdHkgPSBzZXR0aW5ncy5ncmF2aXR5IHx8IDA7XG4gICAgICAgIHRoaXMubWFzcyA9IHNldHRpbmdzLm1hc3MgfHwgMTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBzZXR0aW5ncy5yYWRpdXMgfHwgc2V0dGluZ3MubWFzcyAqIDAuODc7XG4gICAgICAgIHRoaXMuZnJpY3Rpb24gPSBzZXR0aW5ncy5mcmljdGlvbiB8fCAxO1xuICAgICAgICB0aGlzLnNwcmluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5ncmF2aXRhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xvciA9IHNldHRpbmdzLmNvbG9yIHx8ICdyZ2JhKDAsMCwwLDAuNiknO1xuICAgICAgICB0aGlzLmJveEJvdW5jZSA9IHNldHRpbmdzLmJveEJvdW5jZSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBVcGRhdGVzIHRoZSBzdGF0ZSBvZiB0aGUgcGFydGljbGVcbiAgICAgKi9cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGxldCB4ID0gdGhpcy54O1xuICAgICAgICBsZXQgeSA9IHRoaXMueTtcblxuICAgICAgICB0aGlzLmhhbmRsZVNwcmluZ3MoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVHcmF2aXRhdGlvbnMoKTtcbiAgICAgICAgdGhpcy52eSArPSB0aGlzLmdyYXZpdHk7XG4gICAgICAgIHRoaXMudnggKj0gdGhpcy5mcmljdGlvbjtcbiAgICAgICAgdGhpcy52eSAqPSB0aGlzLmZyaWN0aW9uO1xuICAgICAgICB0aGlzLnggKz0gdGhpcy52eDtcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudnk7XG5cbiAgICAgICAgaWYgKHRoaXMuYm94Qm91bmNlKSB7XG4gICAgICAgICAgdGhpcy5jaGVja0JvcmRlcnModGhpcy5ib3hCb3VuY2UudywgdGhpcy5ib3hCb3VuY2UuaCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCAhPT0gdGhpcy54ICYmIHkgIT09IHRoaXMueSkge1xuICAgICAgICAgIHRoaXMucG9zaXRpb25VcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgR2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWxvY2l0eSB2ZWN0b3IsIHdoaWNoIGVxdWFscyB0byB0aGUgaHlwb3RlbnVzZVxuICAgICAqL1xuICAgIGdldFNwZWVkKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMudnggKiB0aGlzLnZ4ICsgdGhpcy52eSAqIHRoaXMudnkpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFVzaW5nIHRoZSBhY3R1YWwgVmVsb2NpdHkgdmVjdG9yJ3MgYW5nbGUsIHNldHMgYSBuZXcgbGVuZ3RoIGZvciBpdFxuICAgICAqL1xuICAgIHNldFNwZWVkKHNwZWVkKSB7XG4gICAgICAgIGxldCBoZWFkaW5nID0gdGhpcy5nZXRIZWFkaW5nKCk7XG4gICAgICAgIHRoaXMudnggPSBNYXRoLmNvcyhoZWFkaW5nKSAqIHNwZWVkO1xuICAgICAgICB0aGlzLnZ5ID0gTWF0aC5zaW4oaGVhZGluZykgKiBzcGVlZDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBHZXRzIHRoZSBhbmdsZSBkaXJlY3Rpb24gb2YgdGhlIHZlbG9jaXR5IHZlY3RvclxuICAgICAqL1xuICAgIGdldEhlYWRpbmcoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMudnksIHRoaXMudngpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIENoYW5nZXMgdGhlIFZlbG9jaXR5IHZlY3RvcidzIGFuZ2xlIGFuZCByZWNhbGN1bGF0ZSBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIHNldEhlYWRpbmcoaGVhZGluZykge1xuICAgICAgICBsZXQgc3BlZWQgPSB0aGlzLmdldFNwZWVkKCk7XG4gICAgICAgIHRoaXMudnggPSBNYXRoLmNvcyhoZWFkaW5nKSAqIHNwZWVkO1xuICAgICAgICB0aGlzLnZ5ID0gTWF0aC5zaW4oaGVhZGluZykgKiBzcGVlZDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBTdW1zIHRvIHRoZSBWZWxvY2l0eSB2ZWN0b3IgeCBhbmQgeSB2YWx1ZXNcbiAgICAgKi9cbiAgICBhY2NlbGVyYXRlKHgsIHkpIHtcbiAgICAgICAgdGhpcy52eCArPSB4O1xuICAgICAgICB0aGlzLnZ5ICs9IHk7XG4gICAgfVxuXG4gICAgLypcbiAgICAqICBCb3VuY2UgaWYgdGhlIHBhcnRpY2xlIGhpdHMgdGhlIGJveCAoaS5lLiBzY3JlZW4pIGJvcmRlcnNcbiAgICAqL1xuICAgIGNoZWNrQm9yZGVycyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICBpZiAodGhpcy54ICsgdGhpcy5yYWRpdXMgPj0gd2lkdGgpIHtcbiAgICAgICAgdGhpcy54ID0gd2lkdGggLSB0aGlzLnJhZGl1cztcbiAgICAgICAgdGhpcy52eCAqPSAgLTE7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueCAtIHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgdGhpcy54ID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIHRoaXMudnggKj0gLTE7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnkgKyB0aGlzLnJhZGl1cyA+PSBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy55ID0gaGVpZ2h0IC0gdGhpcy5yYWRpdXM7XG4gICAgICAgIHRoaXMudnkgKj0gIC0xO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnkgLSB0aGlzLnJhZGl1cyA8PSAwKSB7XG4gICAgICAgIHRoaXMueSA9IHRoaXMucmFkaXVzO1xuICAgICAgICB0aGlzLnZ5ICo9IC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogIENhbGN1bGF0ZXMgdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyBwYXJ0aWNsZSBhbmQgJ3AyJ1xuICAgICAqL1xuICAgIGFuZ2xlVG8ocDIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIocDIueSAtIHRoaXMueSwgcDIueCAtIHRoaXMueCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgdG8gYSBnaXZlbiBwYXJ0aWNsZVxuICAgICAqL1xuICAgIGRpc3RhbmNlVG8ocCkge1xuICAgICAgICBsZXQgZHggPSBwLnggLSB0aGlzLng7XG4gICAgICAgIGxldCBkeSA9IHAueSAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgQ2FsY3VsYXRlcyBhbmQgYXBwbGllcyBhIGdyYXZpdGF0aW9uIHZlY3RvciB0byBhIGdpdmVuIHBhcnRpY2xlXG4gICAgICovXG4gICAgIGdyYXZpdGF0ZVRvKHAsIGdyYXZpdHlGYWN0b3IpIHtcbiAgICAgICAgIGdyYXZpdHlGYWN0b3IgPSBncmF2aXR5RmFjdG9yIHx8IDAuMDQ7XG5cbiAgICAgICAgIGxldCByYWRpdXNTdW0gPSB0aGlzLnJhZGl1cyArIHAucmFkaXVzO1xuICAgICAgICAgbGV0IG1hc3NGYWN0b3IgPSB0aGlzLm1hc3MgKiBwLm1hc3M7XG5cbiAgICAgICAgIGxldCBkeCA9IHAueCAtIHRoaXMueDtcbiAgICAgICAgIGxldCBkeSA9IHAueSAtIHRoaXMueTtcbiAgICAgICAgIGxldCBkaXN0U1EgPSAoZHggKiBkeCkgKyAoZHkgKiBkeSk7XG4gICAgICAgICBsZXQgZGlzdCA9IE1hdGguc3FydChkaXN0U1EpO1xuICAgICAgICAgbGV0IHN1cmZhY2VEaXN0ID0gZGlzdCAtIHJhZGl1c1N1bTtcblxuICAgICAgICAgLy8gQ2FuY2VsIGdyYXZpdGF0aW9uIG9uY2Ugb2JqZWN0cyBjb2xsaWRlXG4gICAgICAgICAvLyBUT0RPOiBWZXJpZnkgaWYgd2UgY2FuIHNhdmUgdGhlIE1hdGguc3FydCgpIGNvbXBhcmluZyBzcXVhcmVzXG4gICAgICAgICBpZiAoZGlzdCA8IHJhZGl1c1N1bSArIDUpIHtcbiAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgfVxuXG4gICAgICAgICAvL2xldCBmb3JjZSA9IChwLm1hc3MpIC8gZGlzdFNROyAvLyBGb3JjZSA9IG1hc3MgLyBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlXG4gICAgICAgICBsZXQgZm9yY2UgPSBncmF2aXR5RmFjdG9yICogbWFzc0ZhY3RvciAvIChzdXJmYWNlRGlzdCAqIHN1cmZhY2VEaXN0KTtcblxuICAgICAgICAgbGV0IGF4ID0gKGR4IC8gc3VyZmFjZURpc3QpICogZm9yY2U7XG4gICAgICAgICBsZXQgYXkgPSAoZHkgLyBzdXJmYWNlRGlzdCkgKiBmb3JjZTtcblxuICAgICAgICAgdGhpcy52eCArPSBheDtcbiAgICAgICAgIHRoaXMudnkgKz0gYXk7XG4gICAgIH1cblxuICAgIC8qXG4gICAgICogIFJlZ2lzdGVycyBhIHBhcnRpY2xlIHRvIGdyYXZpdGF0ZSB0b1xuICAgICAqL1xuICAgIGFkZEdyYXZpdGF0aW9uKHApIHtcbiAgICAgICAgdGhpcy5yZW1vdmVHcmF2aXRhdGlvbihwKTtcbiAgICAgICAgdGhpcy5ncmF2aXRhdGlvbnMucHVzaChwKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBVbnJlZ2lzdGVycyBhIGdyYXZpdGF0aW9uIHBhcnRpY2xlXG4gICAgICovXG4gICAgcmVtb3ZlR3Jhdml0YXRpb24ocCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5ncmF2aXRhdGlvbnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgaWYgKHRoaXMuZ3Jhdml0YXRpb25zW2ldID09PSBwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmF2aXRhdGlvbnMuc2xpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBHcmF2aXRhdGVzIHRvIGVhY2ggcmVnaXN0ZXJlZCBncmF2aXRhdGlvbiBwYXJ0aWNsZVxuICAgICAqL1xuICAgIGhhbmRsZUdyYXZpdGF0aW9ucygpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMuZ3Jhdml0YXRpb25zLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMuZ3Jhdml0YXRlVG8odGhpcy5ncmF2aXRhdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgQ2FsY3VsYXRlcyBhbmQgYXBwbGllcyBhIHNwcmluZyB2ZWN0b3IgdG8gYSBnaXZlbiBwb2ludFxuICAgICAqL1xuICAgIHNwcmluZ1RvKHBvaW50LCBrLCBsZW5ndGgpIHtcbiAgICAgICAgbGV0IGR4ID0gcG9pbnQueCAtIHRoaXMueDtcbiAgICAgICAgbGV0IGR5ID0gcG9pbnQueSAtIHRoaXMueTtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgbGV0IGZvcmNlID0gKGRpc3RhbmNlIC0gbGVuZ3RoIHx8IDApICogaztcbiAgICAgICAgLy8gSW5zdGVhZCBvZiBnZXR0aW5nIGNvcyAvIHNpbiBvZiBhbmdsZSwgZGl2aWRlIHNpZGVzIGJ5IGh5cG90ZW51c2VcbiAgICAgICAgdGhpcy52eCArPSAoZHggLyBkaXN0YW5jZSkgKiBmb3JjZTtcbiAgICAgICAgdGhpcy52eSArPSAoZHkgLyBkaXN0YW5jZSkgKiBmb3JjZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBSZWdpc3RlcnMgYSBuZXcgc3ByaW5nIHBvaW50XG4gICAgICovXG4gICAgYWRkU3ByaW5nKHBvaW50LCBrLCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVTcHJpbmcocG9pbnQpO1xuICAgICAgICB0aGlzLnNwcmluZ3MucHVzaCh7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBrOiBrLFxuICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGggfHwgMFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBVbnJlZ2lzdGVycyBhIHNwcmluZyBwb2ludFxuICAgICAqL1xuICAgIHJlbW92ZVNwcmluZyhwb2ludCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5zcHJpbmdzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmICh0aGlzLnNwcmluZ3NbaV0ucG9pbnQgPT09IHBvaW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpbmdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qXG4gICAgICogIFNwcmluZ3MgdG8gZWFjaCByZWdpc3RlcmVkIHNwcmluZyBwb2ludFxuICAgICAqL1xuICAgIGhhbmRsZVNwcmluZ3MoKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLnNwcmluZ3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IHNwcmluZyA9IHRoaXMuc3ByaW5nc1tpXTtcbiAgICAgICAgICAgIHRoaXMuc3ByaW5nVG8oc3ByaW5nLnBvaW50LCBzcHJpbmcuaywgc3ByaW5nLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRkVBVFVSRV9UT0dHTEUgZnJvbSAnLi4vLi4vc3JjL2ZlYXR1cmUtdG9nZ2xlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yIHtcblxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG4gICAgc2V0dGluZ3MueCA9IHNldHRpbmdzLnggfHwgMDtcbiAgICBzZXR0aW5ncy55ID0gc2V0dGluZ3MueSB8fCAwO1xuICAgIHNldHRpbmdzLmxlbmd0aCA9IHNldHRpbmdzLmxlbmd0aCB8fCAwO1xuICAgIHNldHRpbmdzLmFuZ2xlID0gc2V0dGluZ3MuYW5nbGUgfHwgMDtcblxuICAgIHRoaXMuX3ggPSBzZXR0aW5ncy54O1xuICAgIHRoaXMuX3kgPSBzZXR0aW5ncy55O1xuXG4gICAgaWYgKHNldHRpbmdzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRMZW5ndGgoc2V0dGluZ3MubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmFuZ2xlKSB7XG4gICAgICB0aGlzLnNldEFuZ2xlKHNldHRpbmdzLmFuZ2xlKTtcbiAgICB9XG4gIH1cblxuICBzZXRYKHZhbHVlKSB7XG4gICAgdGhpcy5feCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0WCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl94O1xuICB9XG5cbiAgc2V0WSh2YWx1ZSkge1xuICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldFkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuXG4gIHNldEFuZ2xlKGFuZ2xlKSB7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgdGhpcy5feCA9IE1hdGguY29zKGFuZ2xlKSAqIGxlbmd0aDtcbiAgICB0aGlzLl95ID0gTWF0aC5zaW4oYW5nbGUpICogbGVuZ3RoO1xuICB9XG5cbiAgZ2V0QW5nbGUoKSB7XG4gICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy5feSwgdGhpcy5feCk7XG4gIH1cblxuICBzZXRMZW5ndGgobGVuZ3RoKSB7XG4gICAgbGV0IGFuZ2xlID0gdGhpcy5nZXRBbmdsZSgpO1xuICAgIHRoaXMuX3ggPSBNYXRoLmNvcyhhbmdsZSkgKiBsZW5ndGg7XG4gICAgdGhpcy5feSA9IE1hdGguc2luKGFuZ2xlKSAqIGxlbmd0aDtcbiAgfVxuXG4gIGdldExlbmd0aCgpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3ggKiB0aGlzLl94ICsgdGhpcy5feSAqIHRoaXMuX3kpO1xuICB9XG5cbiAgYWRkKHZlY3Rvcikge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHsgeDogdGhpcy5feCArIHZlY3Rvci5nZXRYKCksIHk6IHRoaXMuX3kgKyB2ZWN0b3IuZ2V0WSgpIH0pO1xuICB9XG5cbiAgc3Vic3RyYWN0KHZlY3Rvcikge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHsgeDogdGhpcy5feCAtIHZlY3Rvci5nZXRYKCksIHk6IHRoaXMuX3kgLSB2ZWN0b3IuZ2V0WSgpIH0pO1xuICB9XG5cbiAgbXVsdGlwbHkodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih7IHg6IHRoaXMuX3ggKiB2YWx1ZSwgeTogdGhpcy5feSAqIHZhbHVlIH0pO1xuICB9XG5cbiAgZGl2aWRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IoeyB4OiB0aGlzLl94IC8gdmFsdWUsIHk6IHRoaXMuX3kgLyB2YWx1ZSB9KTtcbiAgfVxuXG4gIGFkZFRvKHZlY3Rvcikge1xuICAgIHRoaXMuX3ggKz0gdmVjdG9yLmdldFgoKTtcbiAgICB0aGlzLl95ICs9IHZlY3Rvci5nZXRZKCk7XG4gIH1cblxuICBzdWJzdHJhY3RGcm9tKHZlY3Rvcikge1xuICAgIHRoaXMuX3ggLT0gdmVjdG9yLmdldFgoKTtcbiAgICB0aGlzLl95IC09IHZlY3Rvci5nZXRZKCk7XG4gIH1cblxuICBtdWx0aXBseUJ5KHZhbHVlKSB7XG4gICAgdGhpcy5feCAqPSB2YWx1ZTtcbiAgICB0aGlzLl95ICo9IHZhbHVlO1xuICB9XG5cbiAgZGl2aWRlQnkodmFsdWUpIHtcbiAgICB0aGlzLl94IC89IHZhbHVlO1xuICAgIHRoaXMuX3kgLz0gdmFsdWU7XG4gIH1cblxuICBjb3B5KCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHtcbiAgICAgIHg6IHRoaXMuZ2V0WCgpLFxuICAgICAgeTogdGhpcy5nZXRZKClcbiAgICB9KTtcbiAgfVxuXG4gIG5vcm1hbGl6ZSgpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICBpZiAobGVuZ3RoICE9IDApIHtcbiAgICAgIHRoaXMuZGl2aWRlQnkobGVuZ3RoKTtcbiAgICB9XG4gIH1cblxuICBsaW1pdChuKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPiBuKSB7XG4gICAgICB0aGlzLnNldExlbmd0aChuKTtcbiAgICB9XG4gIH1cbn07XG4iXX0="}