{"version":3,"sources":["node_modules/browser-pack/_prelude.js","projects/planetario/app.js","src/feature-toggle.js","src/lib/AnimationPlayer.js","src/lib/Particle.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Particle from '../../src/lib/Particle';\nimport AnimationPlayer from '../../src/lib/AnimationPlayer';\n\nwindow.onload = () => {\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const width = canvas.width = window.innerWidth-4;\n    const height = canvas.height = window.innerHeight-4;\n\n    let player = new AnimationPlayer();\n\n    let startY = height / 2;\n    let baseX = width / 2;\n    let _sunCfg = {\n        x: baseX,\n        y: startY,\n        mass: 3000,\n        speed: 0,\n        gravity: 0\n    };\n    let sun = new Particle(_sunCfg);\n    let planetsSetup = [{\n        x: baseX - 100,\n        y: startY,\n        speed: 5.5,\n        direction: -Math.PI / 2,\n        color: '#0007FF',\n        mass: 4.5\n    },{\n        x: baseX + 104,\n        y: startY,\n        speed: 5.5,\n        direction: Math.PI / 2,\n        color: '#F3F972',\n        mass: 4.5\n    },{\n        x: baseX - 170,\n        y: startY,\n        speed: 4.1,\n        direction: -Math.PI / 2,\n        color: '#FF3500',\n        mass: 11\n    },{\n        x: baseX + 163,\n        y: startY,\n        speed: 4.1,\n        direction: Math.PI / 2,\n        color: '#E1EA43',\n        mass: 11\n    },{\n        x: baseX - 230,\n        y: startY,\n        speed: 3.8,\n        direction: -Math.PI / 2,\n        color: '#30AD1F',\n        mass: 18\n    },{\n        x: baseX - 290,\n        y: startY,\n        speed: 3.4,\n        direction: -Math.PI / 2,\n        color: '#F0C65A',\n        mass: 27\n    },{\n        x: baseX + 292,\n        y: startY,\n        speed: 3.4,\n        direction: Math.PI / 2,\n        color: '#9E51C9',\n        mass: 27\n    },{\n        x: baseX - 360,\n        y: startY,\n        speed: 2.9,\n        direction: -Math.PI / 2,\n        color: '#3582AF',\n        mass: 43\n    },{\n        x: baseX + 349,\n        y: startY,\n        speed: 2.9,\n        direction: Math.PI / 2,\n        color: '#C951A9',\n        mass: 43\n    }];\n    let planets = createPlanets(planetsSetup);\n    let scale = {\n        x: 1,\n        y: 1,\n        increment: 0.1\n    };\n    let pos = {\n        x: 0,\n        y: 0,\n        increment: 1\n    };\n\n    // TODO: Look for a better implementation\n    updateStyle();\n\n    // Demo player\n    player.setUpdateFn(update);\n    player.play();\n\n    // Frame drawing function\n    function update() {\n        ctx.clearRect(0,0, width, height);\n\n        sun.update();\n\n        ctx.beginPath();\n        ctx.fillStyle = \"#FFE500\";\n        ctx.arc(sun.x, sun.y, 32, 0, Math.PI * 2, false);\n        ctx.shadowBlur = 54;\n        ctx.shadowColor = '#E8FF00';\n        ctx.fill();\n        ctx.closePath();\n\n        let total = planets.length;\n        for (let i=0; i<total; i++) {\n            planets[i].gravitateTo(sun);\n            planets[i].update();\n\n            ctx.beginPath();\n            ctx.fillStyle = planets[i].color;\n            ctx.arc(planets[i].x, planets[i].y, planets[i].radius, 0, Math.PI * 2, false);\n            ctx.shadowBlur = 12;\n            ctx.shadowColor = 'rgba(255,255,255,0.5)';\n            ctx.fill();\n            ctx.closePath();\n        }\n    }\n\n    /** Helpers **/\n\n    function createPlanets(config) {\n        let total = config.length;\n        let planets = [];\n        for (let i=0; i<total; i++) {\n            let p = new Particle(config[i]);\n            p.color = config[i].color;\n            p.radius = p.mass * 0.2;\n            planets.push(p);\n        }\n        return planets;\n    }\n\n    /** Events **/\n\n    // Animation control: KeyDown\n    document.body.addEventListener(\"keydown\", (e) => {\n        //console.log(\"Key pressed: \", e.keyCode);\n        switch (e.keyCode) {\n            case 27:                        // Esc\n                if (player.playing) {\n                    player.stop();\n                    console.log(\"> Scene stopped\");\n                } else {\n                    player.play();\n                    console.log(\"> Playing scene\");\n                }\n                break;\n            default:\n                break;\n        }\n        updateStyle();\n    });\n\n    document.body.addEventListener(\"mousewheel\", MouseWheelHandler, false);\n\n    function MouseWheelHandler(e) {\n        let delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));\n        if(delta > 0){\n            scale.x += scale.increment;\n            scale.y += scale.increment;\n        } else {\n            scale.x = (scale.x > 0) ? scale.x - scale.increment : 0;\n            scale.y = (scale.y > 0) ? scale.y - scale.increment : 0;\n        }\n        updateStyle();\n    }\n\n    function updateStyle(){\n        canvas.style.transform = 'translate(' + pos.x + 'px, ' + pos.y + 'px) scale(' + scale.x + ',' + scale.y + ')'\n    }\n};\n","/*\n *  Feature Toggling\n *\n *  Activete/Hide features that are in process of development or under testing\n *  Once a feature is accepted to be includded must be removed from the\n *  feature toggle scheme\n */\n\n const FEATURE_TOGGLE = {\n   FPS_CONTROL: true                // FPS controll for AnimationPlayer class\n };\n\n export default FEATURE_TOGGLE;\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class AnimationPlayer {\n\n    constructor(settings) {\n        settings = settings || {};\n\n        this.window = settings.windowElement || window;\n        this.requestId = null;\n        this.playing = false;\n\n        // FPS control\n        if (FEATURE_TOGGLE.FPS_CONTROL) {\n          this.fps = settings.fps || 90;\n          this.now;\n          this.lastTime = Date.now();\n          this.interval = 1000/this.fps;\n          this.delta;\n        }\n\n    }\n\n    play() {\n        this.playing = true;\n        this.updateFn();\n    }\n\n    stop() {\n        if (!this.playing) {\n            return false;\n        }\n        this.window.cancelAnimationFrame(this.requestId);\n        this.playing = false;\n        this.requestId = null;\n    }\n\n    setUpdateFn(updateFn) {\n        this.updateFn = (\n            () => {\n                this.requestId = this.window.requestAnimationFrame(this.updateFn);\n\n                // FPS control\n                if (FEATURE_TOGGLE.FPS_CONTROL) {\n                  this.now = Date.now();\n                  this.delta = this.now - this.lastTime;\n\n                  if (this.delta > this.interval) {\n                    this.lastTime = this.now - (this.delta % this.interval);\n                    updateFn();\n                  }\n                  return;\n                }\n\n                updateFn();\n\n            });\n    }\n\n    updateFn() {\n        console.warn(\"Player update function has not been set.\");\n    }\n}\n","import FEATURE_TOGGLE from '../../src/feature-toggle';\n\nexport default class Particle {\n\n  /*\n   *   Pass 'boxBounce' as { w: <with>, h: <height> } to make particle bounce inside a box\n   *\n   **/\n    constructor(settings) {\n        this.x = settings.x || 0;\n        this.y = settings.y || 0;\n        this.vx = (Math.cos(settings.direction) * settings.speed) || 0;\n        this.vy = (Math.sin(settings.direction) * settings.speed) || 0;\n        this.gravity = settings.gravity || 0;\n        this.mass = settings.mass || 1;\n        this.radius = settings.radius || settings.mass * 0.87;\n        this.friction = settings.friction || 1;\n        this.springs = [];\n        this.gravitations = [];\n\n        this.color = settings.color || \"#000000\";\n        this.boxBounce = settings.boxBounce || false;\n    }\n\n    /*\n     *  Updates the state of the particle\n     */\n    update() {\n        this.handleSprings();\n        this.handleGravitations();\n        this.vy += this.gravity;\n        this.vx *= this.friction;\n        this.vy *= this.friction;\n        this.x += this.vx;\n        this.y += this.vy;\n\n        if (this.boxBounce) {\n          this.checkBorders(this.boxBounce.w, this.boxBounce.h);\n        }\n    }\n\n    /*\n     *  Gets the length of the velocity vector, which equals to the hypotenuse\n     */\n    getSpeed() {\n        return Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n    }\n\n    /*\n     *  Using the actual Velocity vector's angle, sets a new length for it\n     */\n    setSpeed(speed) {\n        let heading = this.getHeading();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Gets the angle direction of the velocity vector\n     */\n    getHeading() {\n        return Math.atan2(this.vy, this.vx);\n    }\n\n    /*\n     *  Changes the Velocity vector's angle and recalculate coordinates\n     */\n    setHeading(heading) {\n        let speed = this.getSpeed();\n        this.vx = Math.cos(heading) * speed;\n        this.vy = Math.sin(heading) * speed;\n    }\n\n    /*\n     *  Sums to the Velocity vector x and y values\n     */\n    accelerate(x, y) {\n        this.vx += x;\n        this.vy += y;\n    }\n\n    /*\n    *  Bounce if the particle hits the box (i.e. screen) borders\n    */\n    checkBorders(width, height) {\n      if (this.x + this.radius >= width) {\n        this.x = width - this.radius;\n        this.vx *=  -1;\n      } else if (this.x - this.radius <= 0) {\n        this.x = this.radius;\n        this.vx *= -1;\n      }\n\n      if (this.y + this.radius >= height) {\n        this.y = height - this.radius;\n        this.vy *=  -1;\n      } else if (this.y - this.radius <= 0) {\n        this.y = this.radius;\n        this.vy *= -1;\n      }\n    }\n\n    /*\n     *  Calculates the angle between this particle and 'p2'\n     */\n    angleTo(p2) {\n        return Math.atan2(p2.y - this.y, p2.x - this.x);\n    }\n\n    /*\n     *  Calculates the distance to a given particle\n     */\n    distanceTo(p) {\n        let dx = p.x - this.x;\n        let dy = p.y - this.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    /*\n     *  Calculates and applies a gravitation vector to a given particle\n     */\n     gravitateTo(p, gravityFactor) {\n         gravityFactor = gravityFactor || 0.04;\n\n         let radiusSum = this.radius + p.radius;\n         let massFactor = this.mass * p.mass;\n\n         let dx = p.x - this.x;\n         let dy = p.y - this.y;\n         let distSQ = (dx * dx) + (dy * dy);\n         let dist = Math.sqrt(distSQ);\n         let surfaceDist = dist - radiusSum;\n\n         // Cancel gravitation once objects collide\n         // TODO: Verify if we can save the Math.sqrt() comparing squares\n         if (dist < radiusSum + 5) {\n           return;\n         }\n\n         //let force = (p.mass) / distSQ; // Force = mass / square of the distance\n         let force = gravityFactor * massFactor / (surfaceDist * surfaceDist);\n\n         let ax = (dx / surfaceDist) * force;\n         let ay = (dy / surfaceDist) * force;\n\n         this.vx += ax;\n         this.vy += ay;\n     }\n\n    /*\n     *  Registers a particle to gravitate to\n     */\n    addGravitation(p) {\n        this.removeGravitation(p);\n        this.gravitations.push(p);\n    }\n\n    /*\n     *  Unregisters a gravitation particle\n     */\n    removeGravitation(p) {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            if (this.gravitations[i] === p) {\n                this.gravitations.slice(i, 1);\n                return true;\n            }\n        }\n    }\n\n    /*\n     *  Gravitates to each registered gravitation particle\n     */\n    handleGravitations() {\n        let length = this.gravitations.length;\n        for (let i=0; i<length; i++){\n            this.gravitateTo(this.gravitations[i]);\n        }\n    }\n\n    /*\n     *  Calculates and applies a spring vector to a given point\n     */\n    springTo(point, k, length) {\n        let dx = point.x - this.x;\n        let dy = point.y - this.y;\n        let distance = Math.sqrt(dx * dx + dy * dy);\n        let force = (distance - length || 0) * k;\n        // Instead of getting cos / sin of angle, divide sides by hypotenuse\n        this.vx += (dx / distance) * force;\n        this.vy += (dy / distance) * force;\n    }\n\n    /*\n     *  Registers a new spring point\n     */\n    addSpring(point, k, length) {\n        this.removeSpring(point);\n        this.springs.push({\n            point: point,\n            k: k,\n            length: length || 0\n        });\n    }\n\n    /*\n     *  Unregisters a spring point\n     */\n    removeSpring(point) {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            if (this.springs[i].point === point) {\n                this.springs.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n\n    /*\n     *  Springs to each registered spring point\n     */\n    handleSprings() {\n        let length = this.springs.length;\n        for (let i=0; i<length; i++){\n            let spring = this.springs[i];\n            this.springTo(spring.point, spring.k, spring.length);\n        }\n    }\n}\n"]}