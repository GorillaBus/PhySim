{"version":3,"sources":["node_modules/browser-pack/_prelude.js","projects/paint-splatter/app.js","src/lib/Ziggurat.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Ziggurat from '../../src/lib/Ziggurat';\n\nwindow.onload = () => {\n  const canvas = document.getElementById(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  const width = window.innerWidth;\n  const height = window.innerHeight-4;\n  const center = { x: width/2, y: height/2 };\n\n  // Canvas setup\n  canvas.height = height;\n  canvas.width = width;\n\n  let ziggurat = new Ziggurat();\n  let paintDrops = new Array(500);\n  let xMean = center.x;\n  let yMean = center.y;\n  let sd = 180;\n  let colorMean = 5.0237271;\n  let colorSD = 0.65;\n\n  for (let i=0; i<paintDrops.length; i++) {\n    paintDrops[i] = {\n      x: ziggurat.nextGaussian(),\n      y: ziggurat.nextGaussian(),\n      color: ziggurat.nextGaussian()\n    };\n  }\n\n\n  for (let i=0; i<paintDrops.length; i++) {\n    let xVal = paintDrops[i].x * sd + xMean;\n    let yVal = paintDrops[i].y * sd + yMean;\n    let colorVal = paintDrops[i].color * colorSD + colorMean;\n\n    ctx.beginPath();\n    ctx.arc(xVal, yVal, 30, 0, Math.PI * 2, false);\n    ctx.fillStyle = toHex(colorVal);\n    ctx.fill();\n    ctx.closePath();\n  }\n\n\n\n  function toHex( n ) {\n    let r = 255 - ( n / 10 * 255 | 0 );\n    let g = n / 10 * 255 | 0;\n\n    return '#' +\n        ( r ? ( r = r.toString(16), r.length == 2 ? r : '0' + r ) : '00' ) +\n        ( g ? ( g = g.toString(16), g.length == 2 ? g : '0' + g ) : '00' ) + '00'\n  }\n\n};\n","export default function Ziggurat() {\n\n  var jsr = 123456789;\n\n  var wn = Array(128);\n  var fn = Array(128);\n  var kn = Array(128);\n\n  function RNOR(){\n    var hz = SHR3();\n    var iz = hz & 127;\n    return (Math.abs(hz) < kn[iz]) ? hz * wn[iz] : nfix(hz, iz);\n  }\n\n  this.nextGaussian = function(){\n    return RNOR();\n  }\n\n  function nfix(hz, iz){\n    var r = 3.442619855899;\n    var r1 = 1.0 / r;\n    var x;\n    var y;\n    while(true){\n      x = hz * wn[iz];\n      if( iz == 0 ){\n        x = (-Math.log(UNI()) * r1);\n        y = -Math.log(UNI());\n        while( y + y < x * x){\n          x = (-Math.log(UNI()) * r1);\n          y = -Math.log(UNI());\n        }\n        return ( hz > 0 ) ? r+x : -r-x;\n      }\n\n      if( fn[iz] + UNI() * (fn[iz-1] - fn[iz]) < Math.exp(-0.5 * x * x) ){\n         return x;\n      }\n      hz = SHR3();\n      iz = hz & 127;\n\n      if( Math.abs(hz) < kn[iz]){\n        return (hz * wn[iz]);\n      }\n    }\n  }\n\n  function SHR3(){\n    var jz = jsr;\n    var jzr = jsr;\n    jzr ^= (jzr << 13);\n    jzr ^= (jzr >>> 17);\n    jzr ^= (jzr << 5);\n    jsr = jzr;\n    return (jz+jzr) | 0;\n  }\n\n  function UNI(){\n    return 0.5 * (1 + SHR3() / -Math.pow(2,31));\n  }\n\n  function zigset(){\n    // seed generator based on current time\n    jsr ^= new Date().getTime();\n\n    var m1 = 2147483648.0;\n    var dn = 3.442619855899;\n    var tn = dn;\n    var vn = 9.91256303526217e-3;\n\n    var q = vn / Math.exp(-0.5 * dn * dn);\n    kn[0] = Math.floor((dn/q)*m1);\n    kn[1] = 0;\n\n    wn[0] = q / m1;\n    wn[127] = dn / m1;\n\n    fn[0] = 1.0;\n    fn[127] = Math.exp(-0.5 * dn * dn);\n\n    for(var i = 126; i >= 1; i--){\n      dn = Math.sqrt(-2.0 * Math.log( vn / dn + Math.exp( -0.5 * dn * dn)));\n      kn[i+1] = Math.floor((dn/tn)*m1);\n      tn = dn;\n      fn[i] = Math.exp(-0.5 * dn * dn);\n      wn[i] = dn / m1;\n    }\n  }\n  zigset();\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwcm9qZWN0cy9wYWludC1zcGxhdHRlci9hcHAuanMiLCJzcmMvbGliL1ppZ2d1cmF0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7O0FBRUEsT0FBTyxNQUFQLEdBQWdCLFlBQU07QUFDcEIsTUFBTSxTQUFTLFNBQVMsY0FBVCxDQUF3QixRQUF4QixDQUFmO0FBQ0EsTUFBTSxNQUFNLE9BQU8sVUFBUCxDQUFrQixJQUFsQixDQUFaO0FBQ0EsTUFBTSxRQUFRLE9BQU8sVUFBckI7QUFDQSxNQUFNLFNBQVMsT0FBTyxXQUFQLEdBQW1CLENBQWxDO0FBQ0EsTUFBTSxTQUFTLEVBQUUsR0FBRyxRQUFNLENBQVgsRUFBYyxHQUFHLFNBQU8sQ0FBeEIsRUFBZjs7QUFFQTtBQUNBLFNBQU8sTUFBUCxHQUFnQixNQUFoQjtBQUNBLFNBQU8sS0FBUCxHQUFlLEtBQWY7O0FBRUEsTUFBSSxXQUFXLHdCQUFmO0FBQ0EsTUFBSSxhQUFhLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBakI7QUFDQSxNQUFJLFFBQVEsT0FBTyxDQUFuQjtBQUNBLE1BQUksUUFBUSxPQUFPLENBQW5CO0FBQ0EsTUFBSSxLQUFLLEdBQVQ7QUFDQSxNQUFJLFlBQVksU0FBaEI7QUFDQSxNQUFJLFVBQVUsSUFBZDs7QUFFQSxPQUFLLElBQUksSUFBRSxDQUFYLEVBQWMsSUFBRSxXQUFXLE1BQTNCLEVBQW1DLEdBQW5DLEVBQXdDO0FBQ3RDLGVBQVcsQ0FBWCxJQUFnQjtBQUNkLFNBQUcsU0FBUyxZQUFULEVBRFc7QUFFZCxTQUFHLFNBQVMsWUFBVCxFQUZXO0FBR2QsYUFBTyxTQUFTLFlBQVQ7QUFITyxLQUFoQjtBQUtEOztBQUdELE9BQUssSUFBSSxLQUFFLENBQVgsRUFBYyxLQUFFLFdBQVcsTUFBM0IsRUFBbUMsSUFBbkMsRUFBd0M7QUFDdEMsUUFBSSxPQUFPLFdBQVcsRUFBWCxFQUFjLENB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SyxJQUFMLENBQVUsQ0FBQyxHQUFELEdBQU8sS0FBSyxHQUFMLENBQVUsS0FBSyxFQUFMLEdBQVUsS0FBSyxHQUFMLENBQVUsQ0FBQyxHQUFELEdBQU8sRUFBUCxHQUFZLEVBQXRCLENBQXBCLENBQWpCLENBQUw7QUFDQSxTQUFHLElBQUUsQ0FBTCxJQUFVLEtBQUssS0FBTCxDQUFZLEtBQUcsRUFBSixHQUFRLEVBQW5CLENBQVY7QUFDQSxXQUFLLEVBQUw7QUFDQSxTQUFHLENBQUgsSUFBUSxLQUFLLEdBQUwsQ0FBUyxDQUFDLEdBQUQsR0FBTyxFQUFQLEdBQVksRUFBckIsQ0FBUjtBQUNBLFNBQUcsQ0FBSCxJQUFRLEtBQUssRUFBYjtBQUNEO0FBQ0Y7QUFDRDtBQUNEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBaaWdndXJhdCBmcm9tICcuLi8uLi9zcmMvbGliL1ppZ2d1cmF0Jztcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC00O1xuICBjb25zdCBjZW50ZXIgPSB7IHg6IHdpZHRoLzIsIHk6IGhlaWdodC8yIH07XG5cbiAgLy8gQ2FudmFzIHNldHVwXG4gIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuXG4gIGxldCB6aWdndXJhdCA9IG5ldyBaaWdndXJhdCgpO1xuICBsZXQgcGFpbnREcm9wcyA9IG5ldyBBcnJheSg1MDApO1xuICBsZXQgeE1lYW4gPSBjZW50ZXIueDtcbiAgbGV0IHlNZWFuID0gY2VudGVyLnk7XG4gIGxldCBzZCA9IDE4MDtcbiAgbGV0IGNvbG9yTWVhbiA9IDUuMDIzNzI3MTtcbiAgbGV0IGNvbG9yU0QgPSAwLjY1O1xuXG4gIGZvciAobGV0IGk9MDsgaTxwYWludERyb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgcGFpbnREcm9wc1tpXSA9IHtcbiAgICAgIHg6IHppZ2d1cmF0Lm5leHRHYXVzc2lhbigpLFxuICAgICAgeTogemlnZ3VyYXQubmV4dEdhdXNzaWFuKCksXG4gICAgICBjb2xvcjogemlnZ3VyYXQubmV4dEdhdXNzaWFuKClcbiAgICB9O1xuICB9XG5cblxuICBmb3IgKGxldCBpPTA7IGk8cGFpbnREcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCB4VmFsID0gcGFpbnREcm9wc1tpXS54ICogc2QgKyB4TWVhbjtcbiAgICBsZXQgeVZhbCA9IHBhaW50RHJvcHNbaV0ueSAqIHNkICsgeU1lYW47XG4gICAgbGV0IGNvbG9yVmFsID0gcGFpbnREcm9wc1tpXS5jb2xvciAqIGNvbG9yU0QgKyBjb2xvck1lYW47XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh4VmFsLCB5VmFsLCAzMCwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdG9IZXgoY29sb3JWYWwpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICB9XG5cblxuXG4gIGZ1bmN0aW9uIHRvSGV4KCBuICkge1xuICAgIGxldCByID0gMjU1IC0gKCBuIC8gMTAgKiAyNTUgfCAwICk7XG4gICAgbGV0IGcgPSBuIC8gMTAgKiAyNTUgfCAwO1xuXG4gICAgcmV0dXJuICcjJyArXG4gICAgICAgICggciA/ICggciA9IHIudG9TdHJpbmcoMTYpLCByLmxlbmd0aCA9PSAyID8gciA6ICcwJyArIHIgKSA6ICcwMCcgKSArXG4gICAgICAgICggZyA/ICggZyA9IGcudG9TdHJpbmcoMTYpLCBnLmxlbmd0aCA9PSAyID8gZyA6ICcwJyArIGcgKSA6ICcwMCcgKSArICcwMCdcbiAgfVxuXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gWmlnZ3VyYXQoKSB7XG5cbiAgdmFyIGpzciA9IDEyMzQ1Njc4OTtcblxuICB2YXIgd24gPSBBcnJheSgxMjgpO1xuICB2YXIgZm4gPSBBcnJheSgxMjgpO1xuICB2YXIga24gPSBBcnJheSgxMjgpO1xuXG4gIGZ1bmN0aW9uIFJOT1IoKXtcbiAgICB2YXIgaHogPSBTSFIzKCk7XG4gICAgdmFyIGl6ID0gaHogJiAxMjc7XG4gICAgcmV0dXJuIChNYXRoLmFicyhoeikgPCBrbltpel0pID8gaHogKiB3bltpel0gOiBuZml4KGh6LCBpeik7XG4gIH1cblxuICB0aGlzLm5leHRHYXVzc2lhbiA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIFJOT1IoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5maXgoaHosIGl6KXtcbiAgICB2YXIgciA9IDMuNDQyNjE5ODU1ODk5O1xuICAgIHZhciByMSA9IDEuMCAvIHI7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG4gICAgd2hpbGUodHJ1ZSl7XG4gICAgICB4ID0gaHogKiB3bltpel07XG4gICAgICBpZiggaXogPT0gMCApe1xuICAgICAgICB4ID0gKC1NYXRoLmxvZyhVTkkoKSkgKiByMSk7XG4gICAgICAgIHkgPSAtTWF0aC5sb2coVU5JKCkpO1xuICAgICAgICB3aGlsZSggeSArIHkgPCB4ICogeCl7XG4gICAgICAgICAgeCA9ICgtTWF0aC5sb2coVU5JKCkpICogcjEpO1xuICAgICAgICAgIHkgPSAtTWF0aC5sb2coVU5JKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoIGh6ID4gMCApID8gcit4IDogLXIteDtcbiAgICAgIH1cblxuICAgICAgaWYoIGZuW2l6XSArIFVOSSgpICogKGZuW2l6LTFdIC0gZm5baXpdKSA8IE1hdGguZXhwKC0wLjUgKiB4ICogeCkgKXtcbiAgICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgICAgaHogPSBTSFIzKCk7XG4gICAgICBpeiA9IGh6ICYgMTI3O1xuXG4gICAgICBpZiggTWF0aC5hYnMoaHopIDwga25baXpdKXtcbiAgICAgICAgcmV0dXJuIChoeiAqIHduW2l6XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gU0hSMygpe1xuICAgIHZhciBqeiA9IGpzcjtcbiAgICB2YXIganpyID0ganNyO1xuICAgIGp6ciBePSAoanpyIDw8IDEzKTtcbiAgICBqenIgXj0gKGp6ciA+Pj4gMTcpO1xuICAgIGp6ciBePSAoanpyIDw8IDUpO1xuICAgIGpzciA9IGp6cjtcbiAgICByZXR1cm4gKGp6K2p6cikgfCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gVU5JKCl7XG4gICAgcmV0dXJuIDAuNSAqICgxICsgU0hSMygpIC8gLU1hdGgucG93KDIsMzEpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHppZ3NldCgpe1xuICAgIC8vIHNlZWQgZ2VuZXJhdG9yIGJhc2VkIG9uIGN1cnJlbnQgdGltZVxuICAgIGpzciBePSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIHZhciBtMSA9IDIxNDc0ODM2NDguMDtcbiAgICB2YXIgZG4gPSAzLjQ0MjYxOTg1NTg5OTtcbiAgICB2YXIgdG4gPSBkbjtcbiAgICB2YXIgdm4gPSA5LjkxMjU2MzAzNTI2MjE3ZS0zO1xuXG4gICAgdmFyIHEgPSB2biAvIE1hdGguZXhwKC0wLjUgKiBkbiAqIGRuKTtcbiAgICBrblswXSA9IE1hdGguZmxvb3IoKGRuL3EpKm0xKTtcbiAgICBrblsxXSA9IDA7XG5cbiAgICB3blswXSA9IHEgLyBtMTtcbiAgICB3blsxMjddID0gZG4gLyBtMTtcblxuICAgIGZuWzBdID0gMS4wO1xuICAgIGZuWzEyN10gPSBNYXRoLmV4cCgtMC41ICogZG4gKiBkbik7XG5cbiAgICBmb3IodmFyIGkgPSAxMjY7IGkgPj0gMTsgaS0tKXtcbiAgICAgIGRuID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyggdm4gLyBkbiArIE1hdGguZXhwKCAtMC41ICogZG4gKiBkbikpKTtcbiAgICAgIGtuW2krMV0gPSBNYXRoLmZsb29yKChkbi90bikqbTEpO1xuICAgICAgdG4gPSBkbjtcbiAgICAgIGZuW2ldID0gTWF0aC5leHAoLTAuNSAqIGRuICogZG4pO1xuICAgICAgd25baV0gPSBkbiAvIG0xO1xuICAgIH1cbiAgfVxuICB6aWdzZXQoKTtcbn1cbiJdfQ=="}