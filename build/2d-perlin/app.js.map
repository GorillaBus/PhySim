{"version":3,"sources":["node_modules/browser-pack/_prelude.js","projects/2d-perlin/app.js","src/lib/Perlin.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Noise from '../../src/lib/Perlin';\n\nwindow.onload = () => {\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const width = window.innerWidth;\n    const height = window.innerHeight-4;\n    const center = { x: width/2, y: height/2 };\n\n    canvas.height = height;\n    canvas.width = width;\n\n    let noise = new Noise();\n    noise.seed(Math.random());\n\n    // Get pixel data\n    let imageData = ctx.getImageData(0, 0, width, height);\n    let data = imageData.data;\n\n    let xOff = 0.0;\n    for (let y=0;y<height;y++) {\n      let yOff = 0.0;\n      for (let x=0;x<width;x++) {\n        let index = (y * width + x) * 4;\n        let alpha = mapRange(noise.noise(xOff, yOff), 0, 1, 0, 255);\n\n\n        data[index+3] = alpha;\n        yOff += 0.005358;\n      }\n      xOff += 0.005358;\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n\n    function mapRange(value, low1, high1, low2, high2) {\n      let result = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n      if (low2 === parseInt(low2, 10) || high2 === parseInt(high2, 10)) {\n        result = parseInt(result);\n      }\n      return result;\n    }\n};\n","module.exports = Perlin;\n\nfunction Perlin() {\n  this.p = [];\n  for (var i=0; i < 256 ; i++) {\n    this.p[256+i] = this.p[i] = this.permutation[i];\n  }\n};\n\nPerlin.prototype.p;\nPerlin.prototype.permutation = [151,160,137,91,90,15,\n   131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,\n   190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,\n   88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,\n   77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,\n   102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,\n   135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,\n   5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,\n   223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,\n   129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,\n   251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,\n   49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,\n   138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180\n   ];\n\nPerlin.prototype.noise = function(x, y, z) {\n\n  // This is probably not how you are supposed to do this\n  y = y || 0;\n  z = z || 0;\n\n  var X = Math.floor(x) & 255;                       // FIND UNIT CUBE THAT\n  var Y = Math.floor(y) & 255;                       // CONTAINS POINT.\n  var Z = Math.floor(z) & 255;\n  x -= Math.floor(x);                                // FIND RELATIVE X,Y,Z\n  y -= Math.floor(y);                                // OF POINT IN CUBE.\n  z -= Math.floor(z);\n\n  var u = this.fade(x);                                   // COMPUTE FADE CURVES\n  var v = this.fade(y);                                   // FOR EACH OF X,Y,Z.\n  var w = this.fade(z);\n  var A = this.p[X  ]+Y, AA = this.p[A]+Z, AB = this.p[A+1]+Z;      // HASH COORDINATES OF\n  var B = this.p[X+1]+Y, BA = this.p[B]+Z, BB = this.p[B+1]+Z;      // THE 8 CUBE CORNERS,\n\n  return this.lerp(w, this.lerp(v, this.lerp(u, this.grad(this.p[AA  ], x  , y  , z   ),  // AND ADD\n                                                this.grad(this.p[BA  ], x-1, y  , z   )), // BLENDED\n                                   this.lerp(u, this.grad(this.p[AB  ], x  , y-1, z   ),  // RESULTS\n                                                this.grad(this.p[BB  ], x-1, y-1, z   ))),// FROM  8\n                      this.lerp(v, this.lerp(u, this.grad(this.p[AA+1], x  , y  , z-1 ),  // CORNERS\n                                                this.grad(this.p[BA+1], x-1, y  , z-1 )), // OF CUBE\n                                  this.lerp(u,  this.grad(this.p[AB+1], x  , y-1, z-1 ),\n                                                this.grad(this.p[BB+1], x-1, y-1, z-1 ))))*0.5+0.5;\n};\n\nPerlin.prototype.fade = function(t)        { return t * t * t * (t * (t * 6 - 15) + 10); }\nPerlin.prototype.lerp = function(t, a, b) { return a + t * (b - a); }\nPerlin.prototype.grad = function(hash, x, y, z) {\n  var h = hash & 15;                      // CONVERT LO 4 BITS OF HASH CODE\n  var u = h<8 ? x : y;                    // INTO 12 GRADIENT DIRECTIONS.\n  var v = h<4 ? y : h==12||h==14 ? x : z;\n  return ((h&1) == 0 ? u : -u) + ((h&2) == 0 ? v : -v);\n}\n\n\n// Seeding needs to be implemented\n// This is from: https://gist.github.com/leegrey/3253283\n// Based on: http://techcraft.codeplex.com/discussions/264014\n\nPerlin.prototype.seed = function( seed ) {\n  seed = seed || 1337;\n  this.permutation = []; //make permutation unique between instances\n  if( SeededRandomNumberGenerator == undefined ) {\n    console.log( 'Perlin.setSeed() - warning,'\n      +' SeededRandomNumberGenerator is undefined' );\n    return;\n  }\n  var seedRND = new SeededRandomNumberGenerator();\n  seedRND.seed = seed;\n  var i;\n  for ( i = 0; i < 256; i++)  {\n    this.permutation[i] = i;\n  }\n  for (  i = 0; i < 256; i++) {\n    var k = seedRND.randomIntRange( 0, 256 - i ) + i; //(256 - i) + i;\n    var l = this.permutation[i];\n    this.permutation[i] = this.permutation[k];\n    this.permutation[k] = l;\n    this.permutation[i + 256] = this.permutation[i];\n  }\n  for (var i = 0; i < 256 ; i++) {\n    this.p[256+i] = this.p[i] = this.permutation[i];\n  }\n};\n\nvar SeededRandomNumberGenerator = function (seed, m, n) {\n  if (!(this instanceof SeededRandomNumberGenerator)) {\n    return new SeededRandomNumberGenerator(seed, m, n);\n  }\n  this.m = m || 82947121839;\n  this.n = n || 328347242343;\n  this.seed = seed || 1337;\n};\n\nSeededRandomNumberGenerator.prototype.randomIntRange = function (start, end) {\n  this.seed = (this.seed * this.n) % this.m;\n  return this.seed % (start - end) + start;\n};\n"]}